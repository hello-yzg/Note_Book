

<!DOCTYPE html>
<html lang="zh-CN,en,default" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/favicon.ico">
  <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Grit">
  <meta name="keywords" content="">
  
    <meta name="description" content="大模型将成为我今后主要学习的方向，语言模型作为切入点，最经典的LLMs莫过于ChatGPT了，因此查阅了一些资料，作为入门笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Hello ChatGPT ！">
<meta property="og:url" content="https://learn.hello-yzg.cn/2023/eeb5aeb4a7a5/">
<meta property="og:site_name" content="Grit&#39;s Note_Book">
<meta property="og:description" content="大模型将成为我今后主要学习的方向，语言模型作为切入点，最经典的LLMs莫过于ChatGPT了，因此查阅了一些资料，作为入门笔记">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-001.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-002.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-003.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-004.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-005.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-006.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-007.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-008.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-009.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-010.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-011.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-012.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-013.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-005.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-006.png">
<meta property="og:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-007.png">
<meta property="article:published_time" content="2023-12-13T11:32:53.050Z">
<meta property="article:modified_time" content="2023-12-14T06:20:18.000Z">
<meta property="article:author" content="Grit">
<meta property="article:tag" content="Large Model">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-001.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Hello ChatGPT ！ - Grit&#39;s Note_Book</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"learn.hello-yzg.cn","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#1890ff","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 30vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Grit &#39;s Note_Book</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Hello ChatGPT ！"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Grit
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-12-13 19:32" pubdate>
          2023年12月13日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          65k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          363 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Hello ChatGPT ！</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：几秒前
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h2 id="📖-语言模型介绍篇"><a href="#📖-语言模型介绍篇" class="headerlink" title="📖 语言模型介绍篇"></a>📖 语言模型介绍篇</h2><h4 id="📄️-什么是语言模型？"><a href="#📄️-什么是语言模型？" class="headerlink" title="📄️ 什么是语言模型？"></a>📄️ 什么是语言模型？</h4><p>大家或多或少都听过 ChatGPT 是一个 LLMs，那 LLMs 是什么？</p>
<p>LLMs 全称是 Large Language Models，中文是大语言模型。</p>
<p>那么什么是语言模型？</p>
<p>语言模型简单说来，就是对人类的语言建立数学模型，注意，这里的关键是<strong>数学模型</strong>，语言模型是一个由数学公式构建的模型，并不是什么逻辑框架。这个认知非常重要。</p>
<p>最早提出语言模型的概念的是 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Frederick_Jelinek">贾里尼克博士</a>。</p>
<p>他是世界著名的语音识别和自然语言处理的专家，他在 IBM 实验室工作期间，提出了基于统计的语音识别的框架，这个框架结构对语音和语言处理有着深远的影响，它从根本上使得语音识别有实用的可能。在贾里尼克以前，科学家们把语音识别问题当作人工智能问题和模式匹配问题。而贾里尼克把它当成通信问题。</p>
<p>为何是通讯问题？为何转换成通讯问题后，就能实现语音识别？</p>
<p>根据香农确定的现代通讯原理，所谓的通讯，也被称为信道的编码和解码，信息源先产生原始信息，然后接收方还原一个和原始信息最接近的信息。</p>
<p>比如，你打电话的时候，问对方一句「你吃了晚饭了吗」，在传输前，通讯系统会对这句话进行编码，编成类似「100111101100000…」，但是传输过程中，一定会有信号损失，接收方收到的编码可能是「1001111011000…」，此时我们就没法解码回原来的句子了。</p>
<p>那如何解决这个问题？</p>
<p>我们可以把与接收到的编码「1001111011000…」类似的句子都罗列出来，可能的情况是：</p>
<ul>
<li>吃了晚饭了吗</li>
<li>你吃了饭了吗</li>
<li>你吃了晚饭了吗</li>
<li>你吃了晚饭了</li>
</ul>
<p>然后通讯系统会计算出哪一种的可能性最大，最后把它选出来。只要噪音不大，并且传输信息有冗余，那我们就能复原出原来的信息。</p>
<p>贾里尼克博士认为让计算机理解人类的语言，不是像教人那样教它语法，而是最好能够让计算机计算出哪一种可能的语句概率最大。</p>
<p>这种计算自然语言每个句子的概率的数学模型，就是语言模型。</p>
<h4 id="📄️-如何计算概率？"><a href="#📄️-如何计算概率？" class="headerlink" title="📄️ 如何计算概率？"></a>📄️ 如何计算概率？</h4><p>然是数学模型，那应该如何计算呢？</p>
<p>最简单的方法，当然就是用统计学的方法去计算了，简单说来，就是靠输入的上下文进行统计，计算出后续词语的概率，比如「你吃了晚饭了吗」，「你吃了」后面按照概率，名词如「饭」或「晚饭」等概率更高，而不太可能是动词，如「睡」「睡觉」。</p>
<p>这是语言模型的第一阶段，模型也被称为是统计语言模型（Statistical Language Model，SLM），其基本思想是基于马尔可夫假设建立词语测模型，根据最近的上下文预测下一个词。</p>
<p>后续语言模型的发展又迭代了三个版本。</p>
<p>第二阶段是神经网络语言模型（Neural Language Model，NLM），是一个用神经网络来训练模型，学习单词之间的关联性和概率关系。它能够利用大量的数据进行深度学习，从而捕捉到词汇之间更加复杂的关系。NLM 模型采用的是分层的结构，把输入的文本数据空间投射到高维的语义空间中并进行学习。通过不断地更新神经网络模型参数，NLM 的神经网络逐渐学会了文本数据的语义并能够生成连贯自然、语义准确的文本。</p>
<p>与前面提到的 SLM 相比，由于深度神经网络的学习能力更强，NLM 在学习语言模型时具有更好的泛化能力和适应性。比如能生成更长的文本等。但 NLM 相对来说也比较依赖更大的数据集，并且需要花很多人力在数据标注上。</p>
<p>第三阶段是预训练语言模型（Pre-trained Language Model，PLM），是一种使用大量文本数据来训练的自然语言处理模型。相对 NLM 来说，PLM 使用无监督学习方法，因此不需要先标注数据或注明文本类型等信息。各位可能听过的 Transformer 架构就是一种预训练语言模型。</p>
<p>第四阶段是大语言模型（Large Language Model），你可以将现在的 LLM 理解为一个训练数据特别大的 PLM，比如 GPT-2 只有 1.5B 参数，GPT-3 则到了惊人 175B，尽管 LLM 只是拓展了模型的大小，但这些大尺寸的预训练语言模型表现出了与较小的预训练语言模型不同的行为，并且在解决一些复杂任务上展现了惊人的能力（俗称涌现能力，注意这个涌现能力目前还存在争议），所以学术界为这些大型预训练语言模型命名为大语言模型 LLM。</p>
<p>上面这四个阶段可能比较难理解，你可以简单理解：</p>
<ol>
<li>语言模型本质上都是在计算自然语言每个句子的概率的数学模型。当你输入一个问题给 AI 时，AI 就是用概率算出它的回答。</li>
<li>另外，当今的语言模型，并不是一个问题对一个答案，实际上是一个问题，多个答案，然后根据答案的概率进行排序，最后返回一个最可能的答案。</li>
</ol>
<p>以上两个认知非常重要。</p>
<h4 id="📄️-开发大语言模型需要什么？"><a href="#📄️-开发大语言模型需要什么？" class="headerlink" title="📄️ 开发大语言模型需要什么？"></a>📄️ 开发大语言模型需要什么？</h4><p>本文主要内容来自论文 <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2303.18223">A Survey of Large Language Models</a>。</p>
<p>了解完大语言模型的原理之后，你可能会好奇 TA 是如何开发的。开发大语言模型的关键是什么。最近看到不少文章为了流量，甚至连 5G 通讯都说成了是开发大语言模型的关键 😂，其实从前面的原理介绍，不难看出，大语言模型的其中一个关键点是数据。</p>
<h5 id="关键一：数据"><a href="#关键一：数据" class="headerlink" title="关键一：数据"></a>关键一：数据</h5><p>训练数据主要是所谓的语料库。今天的很多语言模型的语料库主要有以下几种：</p>
<ul>
<li>Books：BookCorpus 是之前小语言模型如 GPT-2 常用的数据集，包括超过 11000 本电子书。主要包括小说和传记，最近更新时间是 2015 年 12 月。大一点的书籍语料库是 Gutenberg，它有 70000 本书，包括小说、散文、戏剧等作品，是目前最大的开源书籍语料库之一，最近更新时间是 2021 年 12 月。</li>
<li>CommonCrawl：这个是目前最大的开源网络爬虫数据库，不过这个数据包含了大量脏数据，所以目前常用的四个数据库是 C4、CC-Stories、CC-News 和 RealNews。另外还有两个基于 CommonCrawl 提取的新闻语料库 REALNEWS 和 CC-News。</li>
<li>Reddit Links：简单理解 Reddit 就是外国版本的百度贴吧 + 知乎。目前开源的数据库有 OpenWebText 和 <a target="_blank" rel="noopener" href="http://pushshift.io/">PushShift.io</a>。</li>
<li>Wikipedia：维基百科是目前大模型广泛使用的语料库。</li>
<li>Code：一般包含 GitHub 上的开源公共代码库，或者是 StackOverflow 的数据，Google 之前发布过一个叫 BigQuery 的数据集。</li>
</ul>
<p>实际上，训练大语言模型会混合使用不同的数据，一般不会只使用单一语料库。比如 GPT-3 用的混合数据集就包括 Books、CommonCrowl、Reddit Links 和 Wikipedia。</p>
<p>从数据上看，你需要知道一个事实，中文语料在这上面占比很小。ChatGPT 能用中文回答你的问题，只是因为它的语料里有一些中英文对应的语料，然后模型就像是「懂中文了一样」，所以更可能的情况是，它先生成了英文内容，再翻译成中文。如果你去问 ChatGPT 3.5：请给我几个中文谐音梗，你应该就能理解我说的话了。</p>
<h5 id="关键二：算法"><a href="#关键二：算法" class="headerlink" title="关键二：算法"></a>关键二：算法</h5><p>有了数据之后，你还需要有算法去做计算，目前最常用的开发大语言模型的算法库有：</p>
<ol>
<li>Transformers：这是一个使用 Transformer 架构构建的开源 Python 库。</li>
<li>DeepSpeed：是由微软开发的深度学习优化库。</li>
<li>Megatron-LM：这是由 Nvidia 开发的深度学习库。</li>
<li>JAX：它是由 Google 开发的用于高新能机器学习算法的 Python 库。</li>
</ol>
<h5 id="关键三：算力"><a href="#关键三：算力" class="headerlink" title="关键三：算力"></a>关键三：算力</h5><p>简单理解，算力就是计算资源，或者说硬件，OpenAI 没有说它训练 GPT-3 语言模型花了多少计算资源。但 OpenAI 的 CEO 暗示硬件成本超过一亿美元，如果我们按照 1000 美元一个 GPU 计算，它大约使用了 10 万个 GPU，以 32 位运算为准，它能提供超过 100 PFLOPS 的算力，也就是每秒 10 亿亿次运算以上，这大约是阿里云最大的数据中心的四分之一的算力。</p>
<p>注意，这还是 GPT-3 时的花费。</p>
<p>另外，我还想分享一个观点，不要以为算力会随时间的前进，就能跨越。算力永远会是制约我们瓶颈，因为我们对人工智能的要求会不断的提高。</p>
<h4 id="📄️-大语言模型有什么缺点？"><a href="#📄️-大语言模型有什么缺点？" class="headerlink" title="📄️ 大语言模型有什么缺点？"></a>📄️ 大语言模型有什么缺点？</h4><p>了解完原理后，我觉得有必要跟大家聊聊大语言模型的缺点，这样大家才能知道 AI 的边界在哪里，并在可控的边界内进行创新。</p>
<h5 id="缺点一：结果高度依赖训练语料"><a href="#缺点一：结果高度依赖训练语料" class="headerlink" title="缺点一：结果高度依赖训练语料"></a>缺点一：结果高度依赖训练语料</h5><p>正如我前面提到的，当今的语言模型，即使发展了四个版本，但依然没有脱离「概率计算」，本质上来说它们的核心原理就是「利用已有的信息来预测其他信息」。</p>
<p>那这就意味着，大语言模型其实并没有意识，也不知道对错，其生成的结果，高度依赖训练语料。</p>
<p>那会导致怎样的后果？</p>
<ol>
<li>如果语料的内容是有偏的（比如带有种族歧视、性别歧视的内容），甚至是错误的，那大语言模型的生成的结果也会是错误的。</li>
<li>如果该领域语料很少，大语言模型生成的结果准确率就很低。甚至有可能会出现幻觉（这个是第二个缺点）。</li>
</ol>
<p>当然面对这个缺点，有什么方法规避？</p>
<p>第一种方法就是在语料大、且错误率低的领域使用 LLMs。</p>
<p>比如语言学领域，像翻译、或者文案生成这种场景。即使语法错误了，但语料里存在大量的相同用法，那某种程度上来说，模型给的答案也算是对的，有点类似古代的通假字，或者现代的很多流行语。</p>
<p>第二种就是用人工干预。</p>
<p>简单说来就是人工将语料里的内容剔除，或者对其进行人类反馈强化学习。但人工干预并不意味着就没有问题了，这种方法有可能导致新的问题出现，比如将人的主观好恶加入到模型中，或者有可能伪造一些信息，加入到模型中。</p>
<h5 id="缺点二：Hallucinations"><a href="#缺点二：Hallucinations" class="headerlink" title="缺点二：Hallucinations"></a>缺点二：Hallucinations</h5><p>这个可以直译成「幻觉」，简单说来，就是会说胡话。有些问题因为语聊很少，计算概率后，会吐出一些很奇怪的内容，比如这个例子，我让 AI 介绍一个世界上不存在的品牌 Boie 的智能牙刷：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Tell me about AeroGlide UltraSlim Smart Toothbrush by Boie<br></code></pre></td></tr></table></figure>

<p>AI 的回答是，你可以看到 AI 就是在一本正经地说胡话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs other">The AeroGlide UltraSlim Smart Toothbrush by Boie is a high-tech toothbrush that uses advanced sonic technology to provide a deep and thorough clean. It features a slim and sleek design that makes it easy to hold and maneuver, and it comes with a range of smart features that help you optimize your brushing routine.<br>One of the key features of the AeroGlide UltraSlim Smart Toothbrush is its advanced sonic technology, which uses high-frequency vibrations to break up plaque and bacteria on your teeth and gums. This technology is highly effective at removing even the toughest stains and buildup, leaving your teeth feeling clean and refreshed.<br>In addition to its sonic technology, the AeroGlide UltraSlim Smart Toothbrush also comes with a range of smart features that help you optimize your brushing routine. These include a built-in timer that ensures you brush for the recommended two minutes, as well as a pressure sensor that alerts you if you&#x27;re brushing too hard.<br>Overall, the AeroGlide UltraSlim Smart Toothbrush by Boie is a highly advanced and effective toothbrush that is perfect for anyone looking to take their oral hygiene to the next level. With its advanced sonic technology and smart features, it provides a deep and thorough clean that leaves your teeth feeling fresh and healthy.<br></code></pre></td></tr></table></figure>

<h5 id="缺点三：暂时只能解决数学问题"><a href="#缺点三：暂时只能解决数学问题" class="headerlink" title="缺点三：暂时只能解决数学问题"></a>缺点三：暂时只能解决数学问题</h5><p>我解释下，这里提到的数学问题，并不仅仅指的是数学运算这种数学问题，而是能通过数学解决的问题。比如我们可以研发无人驾驶汽车，当它遇到行人突然横穿马路时，能自己刹车停下来，这就是一个数学问题，它通过计算识别行人，并进行刹车。</p>
<p>但如果这辆无人车在一个单行道的巷子里遇到一辆堵在巷子的汽车，它就没有办法了，只能报警，让司机过来挪车，这就是一个数学无法解决的问题。</p>
<p>暂时来看目前大多数的 LLMs 都只能解决数学问题，有些不可计算的问题，暂时都没法解决。特别像是需要自己实操进行实验的问题。</p>
<p>当然我这里也只是称其为「暂时」，因为可能未来机器人 + LLMs 有可能会将可计算的范围拓展宽一点。</p>
<h2 id="😎-基础篇"><a href="#😎-基础篇" class="headerlink" title="😎 基础篇"></a>😎 基础篇</h2><p>如果你对 AI 和 Prompt Engineering 不是很了解，建议你从基础篇开始读起。如果你已经了解基本的用法，那可以直接跳去高级篇阅读。</p>
<h4 id="📄️-简介"><a href="#📄️-简介" class="headerlink" title="📄️ 简介"></a>📄️ 简介</h4><h5 id="什么是-Prompt-Engineering？"><a href="#什么是-Prompt-Engineering？" class="headerlink" title="什么是 Prompt Engineering？"></a>什么是 Prompt Engineering？</h5><p>解释这个词之前，首先需要解释 prompt 这个词。</p>
<p>简单的理解它是<strong>给 AI 模型的指令</strong>。</p>
<p>它可以是一个问题、一段文字描述，甚至可以是带有一堆参数的文字描述。AI 模型会基于 prompt 所提供的信息，生成对应的文本，亦或者图片。</p>
<p>比如，我们在 ChatGPT 里输入 <code>What is the capital of China?</code> (中国的首都是什么？)，这个问题就是 prompt。</p>
<p>而 Prompt Engineering （中文意思为提示工程，后缩写为 PE）则是：</p>
<blockquote>
<p><strong>Prompt Engineering 是一种人工智能（AI）技术，它通过设计和改进 AI 的 prompt 来提高 AI 的表现。Prompt Engineering 的目标是创建高度有效和可控的 AI 系统，使其能够准确、可靠地执行特定任务。</strong></p>
</blockquote>
<p>看上去很难懂，我试着换个方式让你理解。</p>
<p>你可能用过不少 AI 相关的产品，你或许会觉得好像只需要会说话、会打字，就能让 AI 输出答案。好像不需要什么技术。</p>
<p>的确，如果你只想让 AI 给你答案，你不需要额外做什么，只需要输入文字即可。但如果你想要得到满意的答案，甚至精确的答案。就需要用到 PE 这个技术。</p>
<p>因为人类的语言从根本上说是不精确的，目前机器还没法很好地理解人类说的话，所以才会出现 PE 这个技术。另外，受制于目前大语言模型 AI 的实现原理，部分逻辑运算问题，需要额外对 AI 进行提示（这里你不需要深究原因，暂时先知道这是个问题即可）。</p>
<p>举个例子，如果我们在 ChatGPT 里输入这样的一段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">What is 100*100/400*56?<br></code></pre></td></tr></table></figure>

<p>ChatGPT 会返回一个错误的答案 0.4464</p>
<p>但如果我们对 prompt 进行一些修改，答案则会是正确的。注意，如果你用下方的 Dyno 运行旧版的模型 API 的版本，做了修改后，答案应该还是错误的，需要用到 Role Prompting 才能生成正确答案。（这个后续章节会讲解）</p>
<p>另外，目前的 AI 产品还比较早期，因为各种原因，产品设置了很多限制，如果你想要绕过一些限制，或者更好地发挥 AI 的能力，也需要用到 Prompt Engineering 技术。这个我们在后续的章节会讲到。</p>
<p>所以，总的来说，Prompt Engineering 是一种重要的 AI 技术：</p>
<ul>
<li>如果你是 AI 产品用户，可以通过这个技术，充分发挥 AI 产品的能力，获得更好的体验，从而提高工作效率。</li>
<li>如果你是产品设计师，或者研发人员，你可以通过它来设计和改进 AI 系统的提示，从而提高 AI 系统的性能和准确性，为用户带来更好的 AI 体验。</li>
</ul>
<h5 id="需要学习-PE-吗？"><a href="#需要学习-PE-吗？" class="headerlink" title="需要学习 PE 吗？"></a>需要学习 PE 吗？</h5><p>坦率说来，大家对 PE 有一些争议。</p>
<p>前面一节我解释了 prompt 的各种好处。但也有人认为这个就像当年搜索工具刚出来的时候，出现了不少所谓的「搜索专家」，熟练使用各种搜索相关的奇技淫巧。但现在这些专家都不存在了。因为产品会不断迭代，变得更加易用，无需再使用这些技巧。</p>
<p>但综合我对产品和用户的理解，以及各位大佬的看法，我的理解是：</p>
<blockquote>
<p><strong>现在 AI 的发展还比较早期，了解和学习 PE 价值相对比较大，但长远来看可能会被淘汰。这个「长远」可能是 3 年，亦或者 1 年。</strong></p>
</blockquote>
<p>OpenAI 的 CEO Sam Altman 在今年 2 月底提到给 ChatBot 写 prompt 是个非常高杠杆的技能。</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-001.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图1</center>

<hr>
<p>但如果你看过 <a target="_blank" rel="noopener" href="https://greylock.com/greymatter/sam-altman-ai-for-the-next-era/">Sam Altman 去年的访谈</a>，他在去年 9 月的时候就提过，5年内我们很可能就不再需要 PE。</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-002.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图2</center>

<hr>
<p><strong>从用户的角度看，我认为学习 prompt 可以让你更好地使用 ChatGPT 等产品。</strong></p>
<p><strong>从产品的角度看，对于用户来说，我认为 prompt 会是个短期过度形态，未来肯定会有更友好的交互形式，或者理解能力更强的 AI 产品。</strong></p>
<h5 id="One-More-Thing"><a href="#One-More-Thing" class="headerlink" title="One More Thing"></a>One More Thing</h5><p>前特斯拉 AI 负责人 Andrej Karpathy（对了，他之前就在 OpenAI，最近二进宫回OpenAI 了） 今年 1 月底，说了这样的一句话：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-003.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图3</center>

<hr>
<p>所以本教程所有案例以及 prompt 都会以英文撰写。不管 PE 最后会怎样，看完后，起码你的英语水平会提高。</p>
<p>所以求求各位不要骂我中英文混杂了。哈哈哈 😁</p>
<h4 id="📄️-基础用法"><a href="#📄️-基础用法" class="headerlink" title="📄️ 基础用法"></a>📄️ 基础用法</h4><p>本章节会简单介绍下 prompt ，如果你已经懂得使用 ChatGPT 这类产品的用法，可跳过这一章。</p>
<p>如果你没怎么使用过类似 ChatGPT 这类 Chatbot 产品，我简单说下它的基本用法：</p>
<ul>
<li>你只需要登录 ChatGPT 后，在输入框内输入问题，或者指令即可。AI 会根据你的指令，返回相应的内容，在后续的章节中，我会介绍更详细的用法与技巧：</li>
</ul>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-004.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图4</center>

<hr>
<ul>
<li>另外，还有一个特别留意的，ChatGPT 跟你之前用的一些 AI 产品不同，它还支持多轮对话，比如当你问 <code>What is the capital of China?</code> (中国的首都是什么？)，它回答 Beijing，你可以接着问 <code>How many people are there？</code> ，你不需要在问题里重复 Beijing 这个词。ChatGPT 知道 there 指的就是 Beijing。</li>
</ul>
<h4 id="📄️-基本原则-amp-建议"><a href="#📄️-基本原则-amp-建议" class="headerlink" title="📄️ 基本原则 &amp; 建议"></a>📄️ 基本原则 &amp; 建议</h4><p>在和 ChatGPT 对话时，亦或者在使用和设计 prompt 时，有以下几个原则与建议。记住这几个原则，能让你写出更好的 prompt 😁</p>
<h5 id="建议使用最新的模型"><a href="#建议使用最新的模型" class="headerlink" title="建议使用最新的模型"></a>建议使用最新的模型</h5><p>如果你是直接使用 AI 产品，比如 ChatGPT 或者 Midjourney，那无需在意这个原则。如果你是通过 API 或者 OpenAI Playground 的方式使用，则建议你先使用最新的模型测试。</p>
<h5 id="Prompt-里最好包含完整的信息"><a href="#Prompt-里最好包含完整的信息" class="headerlink" title="Prompt 里最好包含完整的信息"></a>Prompt 里最好包含完整的信息</h5><p>这个是对结果影响最大的因素。比如如果你想让 AI 写一首关于 OpenAI 的诗。</p>
<p>Less effective prompt:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Write a poem about OpenAI.<br></code></pre></td></tr></table></figure>

<p>它生成的答案可能就会很宽泛，而更好的方式是增加更多的信息。</p>
<p>Better prompt:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Write a short inspiring poem about OpenAI, focusing on the recent DALL-E product launch (DALL-E is a text to image ML model) in the style of a &#123;famous poet&#125;<br></code></pre></td></tr></table></figure>

<h5 id="Prompt-最好简洁易懂，并减少歧义"><a href="#Prompt-最好简洁易懂，并减少歧义" class="headerlink" title="Prompt 最好简洁易懂，并减少歧义"></a>Prompt 最好简洁易懂，并减少歧义</h5><p>这个比较好理解，即使你跟人说话，说一些简单的短句，对方也会更容易听懂，AI 也是这样。另外，在 prompt 里也需要减少一些歧义，少用模棱两可的词语。</p>
<p>比如像这个就很不明确，什么叫 not too much more？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">The description for this product should be fairly short, a few sentences only, and not too much more.<br></code></pre></td></tr></table></figure>

<p>更好的 prompt 是这样的，明确告知要写多少句话，就比较明确：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Use a 3 to 5 sentence paragraph to describe this product.<br></code></pre></td></tr></table></figure>

<p>另外需要注意的是，简单并不代表简短。你的 prompt 也可以很长，只要你的 prompt 描述更充分就可以，即使长一点也没有关系。</p>
<h5 id="Prompt-要使用正确的语法、拼写，以及标点"><a href="#Prompt-要使用正确的语法、拼写，以及标点" class="headerlink" title="Prompt 要使用正确的语法、拼写，以及标点"></a>Prompt 要使用正确的语法、拼写，以及标点</h5><p>特别是在使用英语的 prompt 的时候，一定要注意语法和拼写。</p>
<h5 id="从简单的先开始，并给产品多一点耐心"><a href="#从简单的先开始，并给产品多一点耐心" class="headerlink" title="从简单的先开始，并给产品多一点耐心"></a>从简单的先开始，并给产品多一点耐心</h5><p>最后一点算是我个人的建议。如我在前面提到的例子 <code>What is 100*100/40*56？</code>一样，如果发现机器理解错误，不妨补充点信息，不妨多实验几次，给 AI 多一点耐心。</p>
<h4 id="📄️-基本使用场景-amp-使用技巧"><a href="#📄️-基本使用场景-amp-使用技巧" class="headerlink" title="📄️ 基本使用场景 &amp; 使用技巧"></a>📄️ 基本使用场景 &amp; 使用技巧</h4><h5 id="场景1：问答问题"><a href="#场景1：问答问题" class="headerlink" title="场景1：问答问题"></a>场景1：问答问题</h5><p>这个场景应该是使用 AI 产品最常见的方法。以 ChatGPT 为例，一般就是你提一个问题，ChatGPT 会给你答案，比如像这样：</p>
<p>在这个场景下，prompt 只要满足前面提到的基本原则，基本上就没有什么问题。但需要注意，不同的 AI 模型擅长的东西都不太一样，prompt 可能需要针对该模型进行微调。另外，目前的 AI 产品，也不是无所不能，有些问题你再怎么优化 prompt 它也没法回答你。以 ChatGPT 为例：</p>
<ol>
<li>ChatGPT 比较擅长回答基本事实的问题，比如问 <code>什么是牛顿第三定律？</code> 。但不太擅长回答意见类的问题，比如问它 <code>谁是世界第一足球运动员？</code>，它就没法回答了。</li>
<li>另外，ChatGPT 的数据仅有 2021 年 9 月以前的，如果你问这个时间以后的问题，比如 <code>现在的美国总统是谁？</code>它的答案是「截至2021年9月，现任美国总统是乔·拜登（Joe Biden）。」</li>
</ol>
<p>这种直接提问的 prompt ，我们称之为 Zero-shot prompt。模型基于一些通用的先验知识或模型在先前的训练中学习到的模式，对新的任务或领域进行推理和预测。你会在高级篇看到相关的介绍，以及更多有意思的使用方法。</p>
<p>另外，正如我在前面基础用法一章中提到的那样，问答场景里还有一个很重要的玩法，就是多轮聊天，你可以针对某个问题，进行多轮的提问。</p>
<blockquote>
<p><strong>技巧 1：To do and Not To do</strong></p>
</blockquote>
<p>我介绍的技巧其实在各个场景都可以使用，我将其放在某个场景下解释，只是因为我觉得它更有可能在这个场景用到。你也会更容易记住这个用法。并不意味着这个技巧仅能在此场景使用。并且多技巧混用也是个不错的用法。</p>
<p>在问答场景里，为了让 AI 回答更加准确，一般会在问题里加条件。比如让 AI 推荐一部电影给你 <code>Recommend a movie to me</code> 。但这个 prompt 太空泛了，AI 无法直接回答，接着它会问你想要什么类型的电影，但这样你就需要跟 AI 聊很多轮，效率比较低。</p>
<p>所以，为了提高效率，一般会在 prompt 里看到类似这样的话（意思是不要询问我对什么感兴趣，或者问我的个人信息）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">DO NOT ASK FOR INTERESTS. DO NOT ASK FOR PERSONAL INFORMATION.<br></code></pre></td></tr></table></figure>

<p>如果你在 ChatGPT 里这样提问，或者使用 ChatGPT 最新的 API ，它就不会问你问题，而是直接推荐一部电影给你，它的 Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Certainly! If you&#x27;re in the mood for an action-packed movie, you might enjoy &quot;John Wick&quot; (2014), directed by Chad Stahelski and starring Keanu Reeves. The movie follows a retired hitman named John Wick who seeks vengeance against the people who wronged him. It&#x27;s a fast-paced and stylish film with lots of thrilling action sequences and an engaging story. If you&#x27;re looking for something that will keep you on the edge of your seat, &quot;John Wick&quot; is definitely worth a watch!<br></code></pre></td></tr></table></figure>

<p>但如果你使用的是如 Davinci-003 这样的模型，它的 Output 很可能是这样的，它还会问你的兴趣爱好：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Sure, I can recommend a movie based on your interests. What kind of movie would you like to watch? Do you prefer action, comedy, romance, or something else?<br></code></pre></td></tr></table></figure>

<p>所以 OpenAI 的 API <a target="_blank" rel="noopener" href="https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api">最佳实践文档</a> 里，提到了一个这样的最佳实践：</p>
<blockquote>
<p><strong>Instead of just saying what not to do, say what to do instead. 与其告知模型不能干什么，不妨告诉模型能干什么。</strong></p>
</blockquote>
<p>我自己的实践是，虽然现在最新的模型已经理解什么是 Not Todo ，但如果你想要的是明确的答案，加入更多限定词，告知模型能干什么，回答的效率会更高，且预期会更明确。还是电影推荐这个案例，你可以加入一个限定词：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Recommend a movie from the top global trending movies to me.<br></code></pre></td></tr></table></figure>

<p>当然并不是 Not Todo 就不能用，如果：</p>
<ul>
<li>你已经告知模型很明确的点，然后你想缩小范围，那增加一些 Not Todo 会提高不少效率。</li>
<li>你是在做一些探索，比如你不知道如何做精准限定，你只知道不要什么。那可以先加入 Not Todo ，让 AI 先发散给你答案，当探索完成后，再去优化 prompt。</li>
</ul>
<p>以下是一些场景案例，我整理了两个 Less Effective（不太有效的） 和 Better（更好的） prompt，你可以自己尝试下这些案例：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>Less Effective</th>
<th>Better</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td>推荐雅思必背英文单词</td>
<td>Please suggest me some essential words for IELTS</td>
<td>Please suggest me 10 essential words for IELTS</td>
<td>后者 prompt 会更加明确，前者会给大概 20 个单词。这个仍然有提升的空间，比如增加更多的限定词语，像字母 A 开头的词语。</td>
</tr>
<tr>
<td>推荐香港值得游玩的地方</td>
<td>Please recommend me some places to visit in Hong Kong. Do not recommend museums.</td>
<td>Please recommend me some places to visit in Hong Kong including amusement parks.</td>
<td>后者的推荐会更准确高效一些，但如果你想进行一些探索，那前者也能用。</td>
</tr>
</tbody></table>
<h5 id="场景2：基于示例回答"><a href="#场景2：基于示例回答" class="headerlink" title="场景2：基于示例回答"></a>场景2：基于示例回答</h5><p>在某些场景下，我们能比较简单地向 AI 描述出什么能做，什么不能做。但有些场景，有些需求很难通过文字指令传递给 AI，即使描述出来了，AI 也不能很好地理解。</p>
<p>比如给宠物起英文名，里面会夹杂着一些所谓的名字风格。此时你就可以在 prompt 里增加一些例子，我们看看这个例子。</p>
<p>这个是没有任何示例的 Prompt：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Suggest three names for a horse that is a superhero.<br></code></pre></td></tr></table></figure>

<p>Output 如下所示。第一个感觉还行，第二个 Captain 有 hero 的感觉，但 Canter 就像是说这匹马跑得很慢，感觉不太合适，而且三个都比较一般，不够酷。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Thunder Hooves, Captain Canter, Mighty Gallop<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>技巧 2：增加示例</strong></p>
</blockquote>
<p>如果你无法用文字准确解释问题或指示，你可以在 prompt 里增加一些案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs other">Suggest three names for an animal that is a superhero.<br><br>Animal: Cat<br>Names: Captain Sharpclaw, Agent Fluffball, The Incredible Feline<br>Animal: Dog<br>Names: Ruff the Protector, Wonder Canine, Sir Barks-a-Lot<br>Animal: Horse<br>Names:<br></code></pre></td></tr></table></figure>

<p>增加例子后，Output 的结果就更酷一些，或者说是接近我想要的那种风格的名字。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Gallop Guardian, Equine Avenger, The Mighty Stallion<br></code></pre></td></tr></table></figure>

<p>以下是一些场景案例，我整理了两个 Less Effective（不太有效的）和 Better（更好的）prompt，你可以自己尝试下这些案例：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>Less Effective</th>
<th>Better</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td>起产品名</td>
<td>Product description: A pair of shoes that can fit any foot size. Seed words: adaptable, fit, omni-fit. Product names:</td>
<td>Product description: A home milkshake maker Seed words: fast, healthy, compact. Product names: HomeShaker, Fit Shaker, QuickShake, Shake Maker Product description: A pair of shoes that can fit any foot size. Seed words: adaptable, fit, omni-fit. Product names:</td>
<td>可以在下方运行这个案例，在不给示例的情况下 AI 会给你什么答案。</td>
</tr>
<tr>
<td>将电影名称转为 emoji</td>
<td>Convert Star Wars into emoji</td>
<td>Convert movie titles into emoji. Back to the Future: 👨👴🚗🕒 Batman: 🤵🦇 Transformers: 🚗🤖 Star Wars:</td>
<td>可以在下方运行这个案例，在不给示例的情况下 AI 会给你什么答案。</td>
</tr>
</tbody></table>
<p>你可能在试用此技巧的时候发现，即使给了案例，模型也不一定会返回正确的答案，此时你就需要用到更高级的技巧，在高级篇我会讲如何优化这个提示，从而让结果更加准确。</p>
<h5 id="场景3：推理"><a href="#场景3：推理" class="headerlink" title="场景3：推理"></a>场景3：推理</h5><p>在问答这个大场景下，还有一个子场景是推理，这个场景非常有意思，而且是个非常值得深挖的场景，prompt 在此场景里发挥的作用非常大。</p>
<p>如果你想用 ChatGPT API 做点什么小应用，我建议可以从这个场景入手，相对来说没有其他场景那么红海。</p>
<p>举个比较简单的例子，我将美国工商管理硕士的入学考试 GMAT 的一道数学题输入进了 ChatGPT：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">If a real estate agent received a commission of 6 percent of the selling price of a certain house, what was the selling price of the house?<br>(1) The selling price minus the real estate agent’s commission was $84,600.<br>(2) The selling price was 250 percent of the original purchase price of $36,000.<br><br>(A) Statement (1) ALONE is sufficient, but statement (2) alone is not sufficient.<br>(B) Statement (2) ALONE is sufficient, but statement (1) alone is not sufficient.<br>(C) BOTH statements TOGETHER are sufficient, but NEITHER statement ALONE is sufficient.<br>(D) EACH statement ALONE is sufficient.<br>(E) Statements (1) and (2) TOGETHER are NOT sufficient.<br></code></pre></td></tr></table></figure>

<p>这道题目的中文意思是这样的（你不妨也思考下这个题目？）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">如果一个房地产经纪人的佣金是某个房子的售价的6％，那么这个房子的售价是多少？<br>（1）售价减去房地产经纪人的佣金为84,600美元。<br>（2）购买价是36,000美元，售价是购买价的250%。<br><br>（A）仅陈述（1）足以回答问题，但仅陈述（2）不能回答问题。<br>（B）仅陈述（2）足以回答问题，但仅陈述（1）不能回答问题。<br>（C）两个陈述合起来足以回答问题，但没有一个陈述单独足以回答问题。<br>（D）每个陈述单独足以回答问题。<br>（E）陈述（1）和（2）合起来不能回答问题。<br></code></pre></td></tr></table></figure>

<p>它的 Output 是这样的，它会根据题目的要求去推理和运算：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs other">Let&#x27;s assume the selling price of the house is S.<br><br>According to the given information, the real estate agent&#x27;s commission is 6% of S, which is 0.06S.<br><br>So, the amount received by the seller after paying the commission would be (S - 0.06S) = 0.94S.<br><br>Statement (1) tells us that 0.94S = $84,600. Solving for S, we get S = $90,000.<br><br>Therefore, statement (1) alone is sufficient to determine the selling price of the house.<br><br>Statement (2) tells us that the selling price is 250% of the original purchase price, which means S = 2.5*$36,000 = $90,000.<br><br>Therefore, statement (2) alone is also sufficient to determine the selling price of the house.<br><br>Since both statements individually provide the same answer, we can conclude that together they are also sufficient to determine the selling price of the house.<br><br>Hence, the answer is (D) EACH statement ALONE is sufficient.<br></code></pre></td></tr></table></figure>

<p>翻译成中文是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs other">假设房子的售价为S。<br><br>根据所给信息，房地产经纪人的佣金是S的6％，即0.06S。<br><br>因此，在支付佣金后卖方收到的金额为（S-0.06S）= 0.94S。<br><br>陈述（1）告诉我们，0.94S = 84,600美元。解出S，我们得到S = $90,000。<br><br>因此，陈述（1）单独足以确定房子的售价。<br><br>陈述（2）告诉我们，售价是原始购买价的250％，这意味着S = 2.5 * $36,000 = $90,000。<br><br>因此，陈述（2）单独也足以确定房子的售价。<br><br>由于两个陈述分别提供相同的答案，我们可以得出结论，它们共同足以确定房子的售价。<br><br>因此，答案是（D）每个陈述单独足以回答问题。<br></code></pre></td></tr></table></figure>

<p>这个场景还比较简单，我就不在这举更多例子了，你可以将各种题目输入进 ChatGPT 里试试。</p>
<h5 id="场景4：无中生有——写代码"><a href="#场景4：无中生有——写代码" class="headerlink" title="场景4：无中生有——写代码"></a>场景4：无中生有——写代码</h5><p>除了回答问题外，另一个重要的场景是让 AI 根据你的要求完成一些内容生成任务，根据输出的结果差异，我将其概括为以下几个主要场景：</p>
<ol>
<li>无中生有</li>
<li>锦上添花</li>
<li>化繁为简</li>
</ol>
<p>本章，我们先来聊聊「无中生有」场景。顾名思义，就是让 AI 给你生成一些内容。你只需要向 AI 描述你想写的内容，AI 就会按你的要求写出该内容。比如：</p>
<ol>
<li>撰写招聘信息</li>
<li>撰写电商平台的货物描述</li>
<li>撰写短视频脚本</li>
<li>甚至让它写代码都可以</li>
</ol>
<p>像撰写招聘信息等，你只需要明确目标，将目标定得比较明确即可生成能让你较为满意的答案。本章我想聊下写代码。下面是一个让 ChatGPT 写代码的案例。</p>
<p>Prompt：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs other">Create a MySQL query for all students in the Computer Science Department:<br>Table departments, columns = [DepartmentId, DepartmentName]<br>Table students, columns = [DepartmentId, StudentId, StudentName]<br></code></pre></td></tr></table></figure>

<p>Output：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs other">SELECT students.*<br>FROM students<br>INNER JOIN departments<br>ON students.DepartmentId = departments.DepartmentId<br>WHERE departments.DepartmentName = &#x27;Computer Science&#x27;;<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>技巧 3：使用引导词，引导模型输出特定语内容</strong></p>
</blockquote>
<p>在代码生成场景里，有一个小技巧，上面提到的案例，其 prompt 还可以继续优化，在 prompt 最后，增加一个代码的引导，告知 AI 我已经将条件描述完了，你可以写代码了。</p>
<p>在 prompt 的最后增加 SELECT 可以很好地提示 AI 可以写 SQL 代码了。Better prompt：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs other">Create a MySQL query for all students in the Computer Science Department:<br>Table departments, columns = [DepartmentId, DepartmentName]<br>Table students, columns = [DepartmentId, StudentId, StudentName]<br>SELECT<br></code></pre></td></tr></table></figure>

<p>同样的道理，如果你想让 AI 写 Python 代码，那 import 会是比较好的提示。但需要注意，这个只是告知 AI 可以写代码了，并不能告知 AI 写何种代码，你仍然需要在 prompt 里增加提示，告知 AI 要生成何种语言的代码。</p>
<p>在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，也提到这个技巧，只是在课程中，引导词并不是放在最后，而是在 prompt 里直接说明，让 AI 生成一个 JSON 格式的内容。课程中的例子是这样的（注意这个是 python 代码）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">Generate a list of three made-up book titles along \</span><br><span class="hljs-string">with their authors and genres.</span><br><span class="hljs-string">Provide them in JSON format with the following keys:</span><br><span class="hljs-string">book_id, title, author, genre.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>我简单解释下，其关键是在 prompt 里跟 AI 说明，需要 AI 按照 JSON 格式输出内容。</p>
<h5 id="场景5：锦上添花——改写内容"><a href="#场景5：锦上添花——改写内容" class="headerlink" title="场景5：锦上添花——改写内容"></a>场景5：锦上添花——改写内容</h5><p>除了从 0 生成内容外，你也可以先给 AI 一段已经写好的内容，然后让 AI 对其进行修改，让 AI 帮你将内容改得更好。实际的场景有如：</p>
<ol>
<li>翻译：将中文文档翻译成英文，亦或者将英文翻译成中文。关于翻译，我还想强调，像 ChatGPT 除了能翻译人类的语言外，还能翻译编程语言，比如将 Python 代码翻译成 Haskell 代码。</li>
<li>修改：修改内容的语法，甄别内容里的错别字。</li>
<li>润色：润色文章，将内容改成另一种风格。</li>
</ol>
<p>本章重点介绍下润色场景，下面这是个润色的例子。</p>
<p>Prompt（内容来自维基百科）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs other">Please rewrite the following sentences to make them easier to understand.<br>OpenAI is an American artificial intelligence (AI) research laboratory consisting of the non-profit OpenAI Incorporated (OpenAI Inc.) and its for-profit subsidiary corporation OpenAI Limited Partnership (OpenAI LP). OpenAI conducts AI research with the declared intention of promoting and developing a friendly AI. OpenAI systems run on the fifth most powerful supercomputer in the world.[5][6][7] The organization was founded in San Francisco in 2015 by Sam Altman, Reid Hoffman, Jessica Livingston, Elon Musk, Ilya Sutskever, Peter Thiel and others,[8][1][9] who collectively pledged US$1 billion. Musk resigned from the board in 2018 but remained a donor. Microsoft provided OpenAI LP with a $1 billion investment in 2019 and a second multi-year investment in January 2023, reported to be $10 billion.[10]<br></code></pre></td></tr></table></figure>

<p>它的 Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">OpenAI is a research organization that focuses on artificial intelligence (AI). It has two parts: a non-profit called OpenAI Incorporated and a for-profit subsidiary called OpenAI Limited Partnership. The organization&#x27;s goal is to create AI that is friendly and beneficial to humans. OpenAI uses one of the most powerful supercomputers in the world for its research. The organization was founded in San Francisco in 2015 by a group of people who pledged a total of $1 billion, including Sam Altman, Reid Hoffman, Jessica Livingston, Elon Musk, Ilya Sutskever, and Peter Thiel. Musk resigned from the board in 2018 but still supports the organization financially. In 2019, Microsoft invested $1 billion in OpenAI LP, and in January 2023, they made a second investment reported to be $10 billion.<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>技巧 4：增加 Role（角色）或人物</strong></p>
</blockquote>
<p>前面提到的改写例子，我在 prompt 里加了 Role 让其更易于阅读，这个优化方法是 OK 的。也很常用，比如你想将你写的 Email 改得更商务，则只需要加 business 相关的词即可。</p>
<p>我再介绍一个更有效的技巧，就是在 prompt 里增加一些 role（角色）相关的内容，让 AI 生成的内容更符合你的需求。</p>
<p>比如还是上面那个 rewrite 的例子，我在例子前加入这样的一段话，我让 AI 假设自己是一个小学老师，并且很擅长将复杂的内容转变成 7、8 岁小朋友也能听懂的话，然后再改写这段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">You are a primary school teacher who can explain complex content to a level that a 7 or 8 year old child can understand. Please rewrite the following sentences to make them easier to understand:<br></code></pre></td></tr></table></figure>

<p>Output 就变成了下面这样。不管是用词，还是语法，看起来都更容易懂了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">OpenAI is a place where people work on making computers really smart. It&#x27;s like a lab where they do research to make computers do amazing things! They want the computers to be really friendly and helpful to people. They use one of the most powerful computers in the world to do this research. A bunch of really rich and smart people gave money to start this lab. One of them is Elon Musk, but he left in 2018. Another really big company, Microsoft, gave them a lot of money too.<br></code></pre></td></tr></table></figure>

<p>另外除了增加角色外，还能让 AI 模拟某个人，比如让 AI 以 David Foster Wallace 的风格改写上述那段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Imagine you are the famous writer David Foster Wallace, please rewrite this sentences.<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs other">As David Foster Wallace, I might rewrite these sentences to sound more like this:<br><br>OpenAI is a lab that studies something called artificial intelligence, which is like when computers can do things that normally only humans can do. They have a big computer that&#x27;s one of the most powerful in the world, and they&#x27;re trying to make sure the AI they create is friendly and helpful. The lab was started in 2015 in a city called San Francisco, and a bunch of important people gave them a lot of money to do their research. One of those people was Elon Musk, who stopped working there but still gives them money, and Microsoft also gave them a lot of money recently.<br></code></pre></td></tr></table></figure>

<p>关于这个技巧的应用，以及如何更好地使用 AI 提升写作能力，建议各位阅读 Nat Eliason 的 <a target="_blank" rel="noopener" href="https://blog.nateliason.com/p/chatgpt-writing-coach">Using ChatGPT as a Writing Coach</a>，他使用 ChatGPT 辅助其写作，就用到了上述的技巧。</p>
<h5 id="场景6：锦上添花——信息解释"><a href="#场景6：锦上添花——信息解释" class="headerlink" title="场景6：锦上添花——信息解释"></a>场景6：锦上添花——信息解释</h5><p>锦上添花下的第二大的场景是信息解释。它跟改写内容有点像，但又不太一样，信息解释有可能提供超过原文内容的信息。</p>
<p>举几个信息解释的例子，大家应该就能理解了：</p>
<ol>
<li>解释代码：比如你看到一段 Python 的代码，但你看不懂，你可以让 AI 解释下代码的含义。</li>
<li>解释论文：看某篇论文看不懂，或者论文里的某一段看不懂，你也可以让 AI 解释。</li>
</ol>
<p>以解释代码为例，它的 prompt 是这样的（此案例来自 <a target="_blank" rel="noopener" href="https://platform.openai.com/examples/default-python-to-natural-language">OpenAI 官方案例</a>）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">Explanation of what the code does:<br><br>Python 3 <br>def remove_common_prefix(x, prefix, ws_prefix): <br>    x[&quot;completion&quot;] = x[&quot;completion&quot;].str[len(prefix) :] <br>    if ws_prefix: <br>        # keep the single whitespace as prefix <br>        x[&quot;completion&quot;] = &quot; &quot; + x[&quot;completion&quot;] <br>return x<br></code></pre></td></tr></table></figure>

<p>以下是 ChatGPT 的 Output，它阐述了这段代码是拿来干什么的，同时还阐述了各个参数的含义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs other">This is a Python function called remove_common_prefix that takes in three parameters: x, prefix, and ws_prefix.<br><br>The x parameter is assumed to be a Pandas DataFrame or Series object with a column named &quot;completion&quot;, which contains strings that may or may not start with the prefix string.<br><br>The prefix parameter is a string that represents the common prefix that needs to be removed from the beginning of each string in the &quot;completion&quot; column of the DataFrame.<br><br>The ws_prefix parameter is a Boolean value that indicates whether or not to keep a single whitespace character as a prefix after the common prefix has been removed.<br><br>The function modifies the &quot;completion&quot; column of the DataFrame by removing the prefix string from the beginning of each string in that column using the Pandas str method and string slicing. The len(prefix) : syntax is used to slice the string starting from the character that follows the prefix.<br><br>If ws_prefix is True, then the function adds a single whitespace character as a prefix to each string in the &quot;completion&quot; column after removing the prefix.<br><br>Finally, the modified DataFrame is returned by the function.<br></code></pre></td></tr></table></figure>

<h5 id="场景7：化繁为简——信息总结"><a href="#场景7：化繁为简——信息总结" class="headerlink" title="场景7：化繁为简——信息总结"></a>场景7：化繁为简——信息总结</h5><p>内容生成大场景下的第二个场景是化繁为简，这个场景其实很好理解，就是将复杂的内容，转为简单的内容，一般常遇到的场景有：</p>
<ol>
<li>信息总结：顾名思义，就是对一堆信息进行总结。</li>
<li>信息解释：这个跟改写内容有点像，但这个更偏向于解释与总结。下一章会给大家介绍更多的例子。</li>
<li>信息提取：提取信息里的某一段内容，比如从一大段文字中，找到关键内容，并分类。</li>
</ol>
<p>本章会讲一下信息总结。信息总结还是比较简单的，基本上在 prompt 里加入总结 summarize 就可以了。但如果你想要一些特别的效果，不妨组合使用之前介绍的技巧，比如：</p>
<ol>
<li>使用技巧 2，增加总结示例，让 AI 总结符合你需求的内容</li>
<li>使用技巧 4，增加 role，让 AI 总结的内容具有一定的风格</li>
</ol>
<p>不过在这个场景，还有个技巧需要各位注意。</p>
<blockquote>
<p><strong>技巧 5：使用特殊符号将指令和需要处理的文本分开</strong></p>
</blockquote>
<p>不管是信息总结，还是信息提取，你一定会输入大段文字，甚至多段文字，此时有个小技巧。</p>
<p>可以用 “”“ 将指令和文本分开。根据我的测试，如果你的文本有多段，增加 ”“” 会提升 AI 反馈的准确性（这个技巧来自于 OpenAI 的 API <a target="_blank" rel="noopener" href="https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api">最佳实践文档</a>）</p>
<p>像我们之前写的 prompt 就属于 Less effective prompt。为什么呢？据我的测试，主要还是 AI 不知道什么是指令，什么是待处理的内容，用符号分隔开来会更利于 AI 区分。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs other">Please summarize the following sentences to make them easier to understand.<br>OpenAI is an American artificial intelligence (AI) research laboratory consisting of the non-profit OpenAI Incorporated (OpenAI Inc.) and its for-profit subsidiary corporation OpenAI Limited Partnership (OpenAI LP). OpenAI conducts AI research with the declared intention of promoting and developing a friendly AI. OpenAI systems run on the fifth most powerful supercomputer in the world.[5][6][7] The organization was founded in San Francisco in 2015 by Sam Altman, Reid Hoffman, Jessica Livingston, Elon Musk, Ilya Sutskever, Peter Thiel and others,[8][1][9] who collectively pledged US$1 billion. Musk resigned from the board in 2018 but remained a donor. Microsoft provided OpenAI LP with a $1 billion investment in 2019 and a second multi-year investment in January 2023, reported to be $10 billion.[10]<br></code></pre></td></tr></table></figure>

<p>Better prompt:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs other">Please summarize the following sentences to make them easier to understand.<br><br>Text: &quot;&quot;&quot;<br>OpenAI is an American artificial intelligence (AI) research laboratory consisting of the non-profit OpenAI Incorporated (OpenAI Inc.) and its for-profit subsidiary corporation OpenAI Limited Partnership (OpenAI LP). OpenAI conducts AI research with the declared intention of promoting and developing a friendly AI. OpenAI systems run on the fifth most powerful supercomputer in the world.[5][6][7] The organization was founded in San Francisco in 2015 by Sam Altman, Reid Hoffman, Jessica Livingston, Elon Musk, Ilya Sutskever, Peter Thiel and others,[8][1][9] who collectively pledged US$1 billion. Musk resigned from the board in 2018 but remained a donor. Microsoft provided OpenAI LP with a $1 billion investment in 2019 and a second multi-year investment in January 2023, reported to be $10 billion.[10]<br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>另外，在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，还提到，你可以使用其他特殊符号来分割文本和 prompt，比如<code>&lt;&gt;</code>，<code>&lt;tag&gt;&lt;/tag&gt;</code> 等，课程中的案例是这样的（注意这个是 python 代码，需要关注的是 prompt 里的 text）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python">text = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">You should express what you want a model to do by \</span><br><span class="hljs-string">providing instructions that are as clear and \</span><br><span class="hljs-string">specific as you can possibly make them. \</span><br><span class="hljs-string">This will guide the model towards the desired output, \</span><br><span class="hljs-string">and reduce the chances of receiving irrelevant \</span><br><span class="hljs-string">or incorrect responses. Don&#x27;t confuse writing a \</span><br><span class="hljs-string">clear prompt with writing a short prompt. \</span><br><span class="hljs-string">In many cases, longer prompts provide more clarity \</span><br><span class="hljs-string">and context for the model, which can lead to \</span><br><span class="hljs-string">more detailed and relevant outputs.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br>prompt = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">Summarize the text delimited by triple backticks \</span><br><span class="hljs-string">into a single sentence.</span><br><span class="hljs-string">`<span class="hljs-subst">&#123;text&#125;</span>`</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>如果你是在开发一款允许用户输入内容，并对内容进行总结的 AI 产品，那你就可以使用到这个技巧。</p>
<h5 id="场景8：化繁为简——信息提取"><a href="#场景8：化繁为简——信息提取" class="headerlink" title="场景8：化繁为简——信息提取"></a>场景8：化繁为简——信息提取</h5><p>介绍完信息总结，再聊聊信息提取，我认为这个场景是继场景 3 推理以外，第二个值得深挖的场景。这个场景有非常多的有意思的场景，比如：</p>
<ol>
<li>将一大段文字，甚至网页里的内容，按要求转为一个表格。按照这个思路你可以尝试做一个更智能的，更易懂的爬虫插件。</li>
<li>按照特定格式对文章内容进行信息归类。</li>
</ol>
<p>第二个可能比较难理解，举个 OpenAI 里的例子，它的 prompt 是这样的（为了有足够空间显示内容，我仅节选了 text 里的部分内容，完整内容，可以 <a target="_blank" rel="noopener" href="https://platform.openai.com/playground/p/DoMbgEMmkXJ5xOyunwFZDHdg?model=text-davinci-003">点击这里</a> 查看）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs other">Extract the important entities mentioned in the article below. First extract all company names, then extract all people names, then extract specific topics which fit the content and finally extract general overarching themes<br>Desired format:<br>Company names: &lt;comma_separated_list_of_company_names&gt;<br>People names: -||-<br>Specific topics: -||-<br>General themes: -||-<br><br>Text: &quot;&quot;&quot;Powering Next Generation<br>Applications with OpenAI Codex<br>Codex is now powering 70 different applications across a variety of use cases through the OpenAI API.<br><br>May 24, 2022<br>4 minute read<br>OpenAI Codex, a natural language-to-code system based on GPT-3, helps turn simple English instructions into over a dozen popular coding languages. Codex was released last August through our API and is the principal building block of GitHub Copilot.<br><br>Warp is a Rust-based terminal, reimagined from the ground up to help both individuals and teams be more productive in the command-line.<br><br>Terminal commands are typically difficult to remember, find and construct. Users often have to leave the terminal and search the web for answers and even then the results might not give them the right command to execute. Warp uses Codex to allow users to run a natural language command to search directly from within the terminal and get a result they can immediately use.<br><br>“Codex allows Warp to make the terminal more accessible and powerful. Developers search for entire commands using natural language rather than trying to remember them or assemble them piecemeal. Codex-powered command search has become one of our game changing features.”<br><br>—Zach Lloyd, Founder, Warp<br><br>Machinet helps professional Java developers write quality code by using Codex to generate intelligent unit test templates.<br><br>Machinet was able to accelerate their development several-fold by switching from building their own machine learning systems to using Codex. The flexibility of Codex allows for the ability to easily add new features and capabilities saving their users time and helping them be more productive.<br><br>“Codex is an amazing tool in our arsenal. Not only does it allow us to generate more meaningful code, but it has also helped us find a new design of product architecture and got us out of a local maximum.”<br><br>—Vladislav Yanchenko, Founder, Machinet&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>Prompt 有点长，我解释下，它是让 AI 将文章里的重点内容进行抽离，并将其根据特定格式进行输出。要求将文章里提到的公司、人名、主题都按照 comma separated list（按逗号空格分开）的方式罗列出来。</p>
<p>最后的 output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs other">Company names: OpenAI, Microsoft, GitHub, Pygma, Replit, Warp, Machinet<br>People names: Emile Paffard-Wray, Amjad Masad, Zach Lloyd, Vladislav Yanchenko<br>Specific topics: GPT-3, OpenAI API, Azure OpenAI Service, GitHub Copilot, Pygma, Replit, Warp, Machinet<br>General themes: Natural language-to-code, Productivity, Problem solving, Creativity, Learning<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>技巧 6：通过格式词阐述需要输出的格式</strong></p>
</blockquote>
<p>上述的案例，就是用到了这个技巧。这个技巧是技巧 2 的变种，比较常用于生成文本场景。其实在场景 7 中，你也可以用到这个技巧。</p>
<p>假设你想让 AI 总结一篇非常非常长的文章，并且按照特定格式给你总结，那你可以在文章前面明确输出的格式（为了不占用太多显示空间，我省略了正文内容，你可以在 OpenAI 的 Playground 看到 <a target="_blank" rel="noopener" href="https://platform.openai.com/playground/p/3U5Wx7RTIdNNC9Fg8fc44omi">完整案例</a>）。它的意思其实是让 ChatGPT 按 Topic 总结，每个 Topic 里按照无序列表（就是里面那个 -）将每个 Topic 的主要观点罗列出来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs other">Summarize the main points of the following speech<br>Use the following format:<br>Topic 1: &lt;topic_name_1&gt;<br>- &lt;point_1&gt;<br>..<br>Topic 2: &lt;topic_name_2&gt;<br>- &lt;point_1&gt;<br>..<br>Topic 10: ..<br><br>Text: &quot;&quot;&quot;<br>Thank you so much, Fred, for that lovely introduction. And thanks to the Atlantic Council for hosting me today.<br><br>The course of the global economy over the past two years has been shaped by COVID-19 and our efforts to fight the pandemic. It’s now evident, though, that the war between Russia and Ukraine has redrawn the contours of the world economic outlook. Vladimir Putin’s unprovoked attack on Ukraine and its people is taking a devastating human toll, with lives tragically lost, families internally displaced or becoming refugees, and communities and cities destroyed.<br>...<br><br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">Topic 1: The war in Ukraine<br>- The war is taking a human toll with lives lost, families displaced, and communities destroyed<br>- The Biden administration is committed to holding Russia accountable<br>- The war has violated international law and is a challenge to the international order<br><br>Topic 2: The global economy<br>- The war is having negative impacts on the global economy, including higher commodity prices and inflation<br>- The IMF and World Bank will be focused on helping developing countries weather the impacts of the war<br>- The ultimate outcome for the global economy depends on the path of the war<br></code></pre></td></tr></table></figure>

<p>关于这个场景和技巧，我想再解释一下为什么潜力很大。根据我使用各种 Summary 或者信息提取的产品，我发现，AI 并不知道什么是重点，所以在总结的过程中，会丢失很多内容。如何引导 AI 进行总结，就变得非常重要，且具有一定的可玩性。</p>
<hr>
<p>感谢 <a target="_blank" rel="noopener" href="https://github.com/AlexZhangji">AlexZhangji</a> 的分享，TA 提到一个使用此技巧的场景：</p>
<p>使用此技巧可以使输出更结构化。比如针对一篇文章进行问答，你不仅想要得到一个答案，也希望 ChatGPT 的答案符合特定的格式，方便你下一步进行自动化。</p>
<p>比如问 “这里的债券 duration 是多少？” , 正常 GPT 模型的答案可能是 “债券 duration 是 4 年” 或 “duration 4 年”。 ChatGPT 的回答不稳定，且不方便继续处理。</p>
<p>解法： 我们可以通过这个技巧，让模型理解我们预期的格式。并在此基础上，为了方便自动化，让模型输出特定的结构化答案 (比如 JSON&#x2F;Markdown 等)。 也可以方便集成更多的额外要求，比如增加一个”confidence level”, 并通过 prompt 的形式指定这些数值的格式与甚至区间。</p>
<p>比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs other">&#123;context&#125;<br>Question: What is bond duration mentioned here.<br>Answer template (Valid JSON format):<br>&#123;&#123;<br>&quot;duration&quot;: $duration_numeric_value_in_year,<br>&quot;confidence_level&quot;: $answer_confidence_level_high_moderate_or_low,<br>&#125;&#125;<br>Answer:<br></code></pre></td></tr></table></figure>

<p>在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，有提到一个这个技巧的高级用法，在让 AI 按照特定格式输出内容的同时，还让 AI 根据内容是否满足特定条件，来判断应该输出什么结果，下面课程中的案例的 prompt（注意这个是 python 代码，有一些转义字符，可以不用管）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">You will be provided <span class="hljs-keyword">with</span> text delimited by triple quotes.<br>If it contains a sequence of instructions, \<br>re-write those instructions <span class="hljs-keyword">in</span> the following <span class="hljs-built_in">format</span>:<br><br>Step <span class="hljs-number">1</span> - ...<br>Step <span class="hljs-number">2</span> - …<br>…<br>Step N - …<br><br>If the text does <span class="hljs-keyword">not</span> contain a sequence of instructions, \<br>then simply write \<span class="hljs-string">&quot;No steps provided.\&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">\&quot;\&quot;\&quot;&#123;text&#125;\&quot;\&quot;\&quot;</span><br></code></pre></td></tr></table></figure>

<p>简单解释下，这个 prompt 分成两步：</p>
<p>让 AI 将输入的 text 转为步骤（就是 prompt 里的 Step 1、2）</p>
<p>然后还增加了一个判断，如果输入的 text 里没有 step 的内容，那么就输出 No Step</p>
<p>假如输入的 text 是一个泡茶的步骤介绍：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">Making a cup of tea is easy! First, you need to get some \<br>water boiling. While that&#x27;s happening, \<br>grab a cup and put a tea bag in it. Once the water is \<br>hot enough, just pour it over the tea bag. \<br>Let it sit for a bit so the tea can steep. After a \<br>few minutes, take out the tea bag. If you \<br>like, you can add some sugar or milk to taste. \<br>And that&#x27;s it! You&#x27;ve got yourself a delicious \<br>cup of tea to enjoy.<br></code></pre></td></tr></table></figure>

<p>那么 AI 输出的内容是这样的（因为内容中包含了步骤式的内容）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs other">Step 1 - Get some water boiling.<br>Step 2 - Grab a cup and put a tea bag in it.<br>Step 3 - Once the water is hot enough, pour it over the tea bag.<br>Step 4 - Let it sit for a bit so the tea can steep.<br>Step 5 - After a few minutes, take out the tea bag.<br>Step 6 - Add some sugar or milk to taste.<br>Step 7 - Enjoy your delicious cup of tea!<br></code></pre></td></tr></table></figure>

<p>但如果我们输入的是这样的 text：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">The sun is shining brightly today, and the birds are \<br>singing. It&#x27;s a beautiful day to go for a \<br>walk in the park. The flowers are blooming, and the \<br>trees are swaying gently in the breeze. People \<br>are out and about, enjoying the lovely weather. \<br>Some are having picnics, while others are playing \<br>games or simply relaxing on the grass. It&#x27;s a \<br>perfect day to spend time outdoors and appreciate the \<br>beauty of nature.<br></code></pre></td></tr></table></figure>

<p>从内容上看，这段话，没有任何步骤式的内容，所以 AI 的输出是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">No steps provided.<br></code></pre></td></tr></table></figure>

<h2 id="🚀-高级篇"><a href="#🚀-高级篇" class="headerlink" title="🚀 高级篇"></a>🚀 高级篇</h2><p>高级篇内容相对比较难，如果你对 AI 及 PE 还不是很了解建议先完成基础篇的阅读。</p>
<h4 id="📄️-ChatGPT-Prompt-Framework"><a href="#📄️-ChatGPT-Prompt-Framework" class="headerlink" title="📄️ ChatGPT Prompt Framework"></a>📄️ ChatGPT Prompt Framework</h4><p>看完基础篇的各种场景介绍后，你应该对 Prompt 有较深的理解。</p>
<p>之前的章节我们讲的都是所谓的「术」，更多地集中讲如何用，但讲「道」的部分不多。高级篇除了会讲更高级的运用外，还会讲更多「道」的部分。</p>
<p>高级篇的开篇，我们来讲一下构成 prompt 的框架。</p>
<blockquote>
<p><strong>Basic Prompt Framework</strong></p>
</blockquote>
<p>查阅了非常多关于 ChatGPT prompt 的框架资料，我目前觉得写得最清晰的是 <a target="_blank" rel="noopener" href="https://github.com/dair-ai/Prompt-Engineering-Guide/blob/main/guides/prompts-intro.md">Elavis Saravia总结的框架</a>，他认为一个 prompt 里需包含以下几个元素：</p>
<ul>
<li><strong>Instruction（必须）：</strong> 指令，即你希望模型执行的具体任务。</li>
<li><strong>Context（选填）：</strong> 背景信息，或者说是上下文信息，这可以引导模型做出更好的反应。</li>
<li><strong>Input Data（选填）：</strong> 输入数据，告知模型需要处理的数据。</li>
<li><strong>Output Indicator（选填）：</strong> 输出指示器，告知模型我们要输出的类型或格式。</li>
</ul>
<p>只要你按照这个框架写 prompt ，模型返回的结果都不会差。</p>
<p>当然，你在写 prompt 的时候，并不一定要包含所有4个元素，而是可以根据自己的需求排列组合。比如拿前面的几个场景作为例子：</p>
<ul>
<li>推理：Instruction + Context + Input Data</li>
<li>信息提取：Instruction + Context + Input Data + Output Indicator</li>
</ul>
<blockquote>
<p><strong>CRISPE Prompt Framework</strong></p>
</blockquote>
<p>另一个我觉得很不错的 Framework 是 <a target="_blank" rel="noopener" href="https://github.com/mattnigh/ChatGPT3-Free-Prompt-List">Matt Nigh的 CRISPE Framework</a>，这个 framework 更加复杂，但完备性会比较高，比较适合用于编写 prompt 模板。CRISPE 分别代表以下含义：</p>
<ul>
<li><strong>CR：</strong> Capacity and Role（能力与角色）。你希望 ChatGPT 扮演怎样的角色。</li>
<li><strong>I：</strong> Insight（洞察力），背景信息和上下文（坦率说来我觉得用 Context 更好）。</li>
<li><strong>S：</strong> Statement（指令），你希望 ChatGPT 做什么。</li>
<li><strong>P：</strong> Personality（个性），你希望 ChatGPT 以什么风格或方式回答你。</li>
<li><strong>E：</strong> Experiment（尝试），要求 ChatGPT 为你提供多个答案。</li>
</ul>
<p>以下是这几个参数的例子：</p>
<table>
<thead>
<tr>
<th><strong>Step</strong></th>
<th><strong>Example</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Capacity and Role</td>
<td>Act as an expert on software development on the topic of machine learning frameworks, and an expert blog writer. 把你想象成机器学习框架主题的软件开发专家，以及专业博客作者。</td>
</tr>
<tr>
<td>Insight</td>
<td>The audience for this blog is technical professionals who are interested in learning about the latest advancements in machine learning. 这个博客的读者主要是有兴趣了解机器学习最新进展技术的专业人士。</td>
</tr>
<tr>
<td>Statement</td>
<td>Provide a comprehensive overview of the most popular machine learning frameworks, including their strengths and weaknesses. Include real-life examples and case studies to illustrate how these frameworks have been successfully used in various industries. 提供最流行的机器学习框架的全面概述，包括它们的优点和缺点。包括现实生活中的例子，和研究案例，以说明这些框架如何在各个行业中成功地被使用。</td>
</tr>
<tr>
<td>Personality</td>
<td>When responding, use a mix of the writing styles of Andrej Karpathy, Francois Chollet, Jeremy Howard, and Yann LeCun. 在回应时，混合使用 Andrej Karpathy、Francois Chollet、Jeremy Howard 和 Yann LeCun 的写作风格。</td>
</tr>
<tr>
<td>Experiment</td>
<td>Give me multiple different examples. 给我多个不同的例子。</td>
</tr>
</tbody></table>
<p>将所有的元素都组合在一起，就变成了这样的 prompt，对比基础 prompt 生成的结果会非常不一样，各位可以在AI之家试用。</p>
<h4 id="📄️-Zero-Shot-Prompts"><a href="#📄️-Zero-Shot-Prompts" class="headerlink" title="📄️ Zero-Shot Prompts"></a>📄️ Zero-Shot Prompts</h4><p>在基础篇里的推理场景，我提到了 Zero-Shot Prompting 的技术，本章会详细介绍它是什么，以及使用它的技巧。</p>
<p>Zero-Shot Prompting 是一种自然语言处理技术，可以让计算机模型根据提示或指令进行任务处理。各位常用的 ChatGPT 就用到这个技术。</p>
<p>传统的自然语言处理技术通常需要在大量标注数据上进行有监督的训练，以便模型可以对特定任务或领域进行准确的预测或生成输出。相比之下，Zero-Shot Prompting 的方法更为灵活和通用，因为它不需要针对每个新任务或领域都进行专门的训练。相反，它通过使用预先训练的语言模型和一些示例或提示，来帮助模型进行推理和生成输出。</p>
<p>举个例子，我们可以给 ChatGPT 一个简短的 prompt，比如 <code>描述某部电影的故事情节</code>，它就可以生成一个关于该情节的摘要，而不需要进行电影相关的专门训练。</p>
<p>但这个技术并不是没有缺点的：</p>
<ol>
<li>Zero-Shot Prompting 技术依赖于预训练的语言模型，这些模型可能会受到训练数据集的限制和偏见。比如在使用 ChatGPT 的时候，它常常会在一些投资领域，使用男性的「他」，而不是女性的「她」。那是因为训练 ChatGPT 的数据里，提到金融投资领域的内容，多为男性。</li>
<li>尽管 Zero-Shot Prompting 技术不需要为每个任务训练单独的模型，但为了获得最佳性能，它需要大量的样本数据进行微调。像 ChatGPT 就是一个例子，它的样本数量是过千亿。</li>
<li>由于 Zero-Shot Prompting 技术的灵活性和通用性，它的输出有时可能不够准确，或不符合预期。这可能需要对模型进行进一步的微调或添加更多的提示文本来纠正。</li>
</ol>
<blockquote>
<p><strong>技巧 7：Zero-Shot Chain of Thought</strong></p>
</blockquote>
<p>基于上述的第三点缺点，研究人员就找到了一个叫 Chain of Thought 的技巧。</p>
<p>这个技巧使用起来非常简单，只需要在问题的结尾里放一句 <code>Let‘s think step by step</code> （让我们一步步地思考），模型输出的答案会更加准确。</p>
<p>这个技巧来自于 Kojima 等人 2022 年的论文 <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2205.11916">Large Language Models are Zero-Shot Reasoners</a>。在论文里提到，当我们向模型提一个逻辑推理问题时，模型返回了一个错误的答案，但如果我们在问题最后加入 <code>Let‘s think step by step</code> 这句话之后，模型就生成了正确的答案：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-005.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图5</center>

<hr>
<p>论文里有讲到原因，感兴趣的朋友可以去看看，我简单解释下为什么（🆘 如果你有更好的解释，不妨反馈给我）：</p>
<ol>
<li>首先各位要清楚像 ChatGPT 这类产品，它是一个统计语言模型，本质上是基于过去看到过的所有数据，用统计学意义上的预测结果进行下一步的输出（这也就是为什么你在使用 ChatGPT 的时候，它的答案是一个字一个字地吐出来，而不是直接给你的原因，因为答案是一个字一个字算出来的）。</li>
<li>当它拿到的数据里有逻辑，它就会通过统计学的方法将这些逻辑找出来，并将这些逻辑呈现给你，让你感觉到它的回答很有逻辑。</li>
<li>在计算的过程中，模型会进行很多假设运算（不过暂时不知道它是怎么算的）。比如解决某个问题是从 A 到 B 再到 C，中间有很多假设。</li>
<li>它第一次算出来的答案错误的原因，只是因为它在中间跳过了一些步骤（B）。而让模型一步步地思考，则有助于其按照完整的逻辑链（A &gt; B &gt; C）去运算，而不会跳过某些假设，最后算出正确的答案。</li>
</ol>
<p>按照论文里的解释，零样本思维链涉及两个补全结果，左侧气泡表示基于提示输出的第一次的结果，右侧气泡表示其收到了第一次结果后，将最开始的提示一起拿去运算，最后得出了正确的答案：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-006.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图6</center>

<hr>
<p>这个技巧，除了用于解决复杂问题外，还适合生成一些连贯主题的内容，比如写长篇文章、电影剧本等。</p>
<p>但需要注意其缺点，连贯不代表，它就一定不会算错，如果其中某一步骤算错了，错误会因为逻辑链，逐步将错误积累，导致生成的文本可能出现与预期不符的内容。</p>
<p>根据 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2201.11903.pdf">Wei 等人在2022 年的论文</a> 表明，它仅在大于等于 100B 参数的模型中使用才会有效。如果你使用的是小样本模型，这个方法不会生效。</p>
<hr>
<p>另外，根据 <a target="_blank" rel="noopener" href="https://sites.google.com/view/automatic-prompt-engineer">Yongchao Zhou 等人的最新论文</a>，更好的 prompt 是：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">Let&#x27;s work this out in a step by step way to be sure we have the right answer.<br></code></pre></td></tr></table></figure>

<p>在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，有提到一个这个技巧的另一种用法，不仅仅只是让 AI 按步骤行事，还会告知 AI 每一步要做什么。比如这个案例（注意这个是 python 代码）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs text">prompt_2 = f&quot;&quot;&quot;<br>Your task is to perform the following actions:<br>1 - Summarize the following text delimited by<br>  &lt;&gt; with 1 sentence.<br>2 - Translate the summary into French.<br>3 - List each name in the French summary.<br>4 - Output a json object that contains the<br>  following keys: french_summary, num_names.<br><br>Use the following format:<br>Text: &lt;text to summarize&gt;<br>Summary: &lt;summary&gt;<br>Translation: &lt;summary translation&gt;<br>Names: &lt;list of names in Italian summary&gt;<br>Output JSON: &lt;json with summary and num_names&gt;<br><br>Text: &lt;&#123;text&#125;&gt;<br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>简单解释下这个代码：</p>
<ol>
<li>开头是让 AI 按照 1 ～ 4 步运行</li>
<li>然后再让 AI 根据特定格式输出内容</li>
</ol>
<p>最后 AI 的输出是这样的：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">Summary: Jack and Jill go on a quest to fetch water, but misfortune strikes and they tumble down the hill, returning home slightly battered but with their adventurous spirits undimmed.<br>Translation: Jack et Jill partent en quête d&#x27;eau, mais la malchance frappe et ils dégringolent la colline, rentrant chez eux légèrement meurtris mais avec leurs esprits aventureux intacts.<br>Names: Jack, Jill<br>Output JSON: &#123;&quot;french_summary&quot;: &quot;Jack et Jill partent en quête d&#x27;eau, mais la malchance frappe et ils dégringolent la colline, rentrant chez eux légèrement meurtris mais avec leurs esprits aventureux intacts.&quot;, &quot;num_names&quot;: 2&#125;<br></code></pre></td></tr></table></figure>

<p>上述的案例只是将任务拆解，能让 AI 生成的结果更加符合要求，这个方法同样能提升 AI 的回答准确性，比如这个案例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs text">Determine if the student&#x27;s solution is correct or not.<br><br>Question:<br>I&#x27;m building a solar power installation and I need help working out the financials.<br><br>Land costs $100 / square foot<br><br>I can buy solar panels for $250 / square foot<br><br>I negotiated a contract for maintenance that will cost <br>me a flat $100k per year, and an additional $10 / square foot<br>What is the total cost for the first year of operations<br>as a function of the number of square feet.<br><br>Student&#x27;s Solution:<br>Let x be the size of the installation in square feet.<br>Costs:<br><br>Land cost: 100x<br><br>Solar panel cost: 250x<br><br>Maintenance cost: 100,000 + 100x<br>Total cost: 100x + 250x + 100,000 + 100x = 450x + 100,000<br></code></pre></td></tr></table></figure>

<p>AI 的回答是「The student’s solution is correct」。但其实学生的答案是错误的，应该 360x + 100,000，我们将 prompt 调整成这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">Your task is to determine if the student&#x27;s solution </span><br><span class="hljs-string">is correct or not.</span><br><span class="hljs-string">To solve the problem do the following:</span><br><span class="hljs-string">- First, work out your own solution to the problem.</span><br><span class="hljs-string">- Then compare your solution to the student&#x27;s solution </span><br><span class="hljs-string">and evaluate if the student&#x27;s solution is correct or not.</span><br><span class="hljs-string">Don&#x27;t decide if the student&#x27;s solution is correct until</span><br><span class="hljs-string">you have done the problem yourself.</span><br><span class="hljs-string">Use the following format:</span><br><span class="hljs-string">Question:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">question here</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Student&#x27;s solution:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">student&#x27;s solution here</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Actual solution:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">steps to work out the solution and your solution here</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Is the student&#x27;s solution the same as actual solution </span><br><span class="hljs-string">just calculated:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">yes or no</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Student grade:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">correct or incorrect</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Question:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">I&#x27;m building a solar power installation and I need help </span><br><span class="hljs-string">working out the financials.</span><br><span class="hljs-string">- Land costs $100 / square foot</span><br><span class="hljs-string">- I can buy solar panels for $250 / square foot</span><br><span class="hljs-string">- I negotiated a contract for maintenance that will cost </span><br><span class="hljs-string">  me a flat $100k per year, and an additional $10 / square </span><br><span class="hljs-string">  foot</span><br><span class="hljs-string">  What is the total cost for the first year of operations </span><br><span class="hljs-string">  as a function of the number of square feet.</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Student&#x27;s solution:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Let x be the size of the installation in square feet.</span><br><span class="hljs-string">Costs:</span><br><span class="hljs-string">1. Land cost: 100x</span><br><span class="hljs-string">2. Solar panel cost: 250x</span><br><span class="hljs-string">3. Maintenance cost: 100,000 + 100x</span><br><span class="hljs-string">   Total cost: 100x + 250x + 100,000 + 100x = 450x + 100,000</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Actual solution:</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>本质上，也是将任务分拆成多步，这次 AI 输出的结果是这样的（结果就是正确的了）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">Let x be the size of the installation in square feet.<br><br>Costs:<br><br>1. Land cost: 100x<br>2. Solar panel cost: 250x<br>3. Maintenance cost: 100,000 + 10x<br><br>Total cost: 100x + 250x + 100,000 + 10x = 360x + 100,000<br><br>Is the student&#x27;s solution the same as actual solution just calculated:<br>No<br><br>Student grade:<br>Incorrect<br></code></pre></td></tr></table></figure>

<p>下一章我们会结合 Few-Shot Chain of Thought 来详细讲讲逻辑链的限制。</p>
<h4 id="📄️-Few-Shot-Prompting"><a href="#📄️-Few-Shot-Prompting" class="headerlink" title="📄️ Few-Shot Prompting"></a>📄️ Few-Shot Prompting</h4><p>同样在推理场景，我提到了 Few-Shot Prompting 的技术，本章介绍下它的优缺点和技巧。</p>
<p>我们在技巧2 中，提到我们可以给模型一些示例，从而让模型返回更符合我们需求的答案。这个技巧其实使用了一个叫 Few-Shot 的方法。</p>
<p>这个方法最早是 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2005.14165.pdf">Brown 等人在 2020 年发现的</a>，论文里有一个这样的例子，非常有意思，通过这个例子你应该更能体会，像 ChatGPT 这类统计语言模型，其实并不懂意思，只是懂概率 😁</p>
<p>Brown 输入的内容是这样的（whatpu 和 farduddle 其实根本不存在）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs other">A &quot;whatpu&quot; is a small, furry animal native to Tanzania. An example of a sentence that uses<br>the word whatpu is:<br>We were traveling in Africa and we saw these very cute whatpus.<br>To do a &quot;farduddle&quot; means to jump up and down really fast. An example of a sentence that uses<br>the word farduddle is:<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">When we won the game, we all started to farduddle in celebration.<br></code></pre></td></tr></table></figure>

<p>不过这并不代表，Few-Shot 就没有缺陷，我们试试下面这个例子：</p>
<p>Prompt：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs other">The odd numbers in this group add up to an even number: 4, 8, 9, 15, 12, 2, 1.<br>A: The answer is False.<br><br>The odd numbers in this group add up to an even number: 17,  10, 19, 4, 8, 12, 24.<br>A: The answer is True.<br><br>The odd numbers in this group add up to an even number: 16,  11, 14, 4, 8, 13, 24.<br>A: The answer is True.<br><br>The odd numbers in this group add up to an even number: 17,  9, 10, 12, 13, 4, 2.<br>A: The answer is False.<br><br>The odd numbers in this group add up to an even number: 15, 32, 5, 13, 82, 7, 1. <br>A:<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">The answer is True.<br></code></pre></td></tr></table></figure>

<p>输出的答案其实是错误的，实际上的答案应该是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Adding all the odd numbers (15, 5, 13, 7, 1) gives 41. The answer is False.<br></code></pre></td></tr></table></figure>

<p>那我们有没有什么方法解决？</p>
<blockquote>
<p><strong>技巧 8：Few-Shot Chain of Thought</strong></p>
</blockquote>
<p>要解决这个缺陷，就要使用到新的技巧，Few-Shot Chain of Thought。</p>
<p>根据 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2201.11903.pdf">Wei 他们团队在2022 年的研究 </a>表明：</p>
<blockquote>
<p>通过向大语言模型展示一些少量的样例，并在样例中解释推理过程，大语言模型在回答提示时也会显示推理过程。这种推理的解释往往会引导出更准确的结果。</p>
</blockquote>
<p>下面是论文里的案例，使用方法很简单，在技巧2 的基础上，再将逻辑过程告知给模型即可。从下面这个案例里，你可以看到加入解释后，输出的结果就正确了。</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-007.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图7</center>

<hr>
<p>那本章开头提的例子就应该是这样的（注：本例子同样来自 Wei 团队论文）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs other">The odd numbers in this group add up to an even number: 4, 8, 9, 15, 12, 2, 1.<br>A: Adding all the odd numbers (9, 15, 1) gives 25. The answer is False.<br><br>The odd numbers in this group add up to an even number: 17,  10, 19, 4, 8, 12, 24.<br>A: Adding all the odd numbers (17, 19) gives 36. The answer is True.<br><br>The odd numbers in this group add up to an even number: 16,  11, 14, 4, 8, 13, 24.<br>A: Adding all the odd numbers (11, 13) gives 24. The answer is True.<br><br>The odd numbers in this group add up to an even number: 17,  9, 10, 12, 13, 4, 2.<br>A: Adding all the odd numbers (17, 9, 13) gives 39. The answer is False.<br><br>The odd numbers in this group add up to an even number: 15, 32, 5, 13, 82, 7, 1. <br>A:<br></code></pre></td></tr></table></figure>

<p>聊完技巧，我们再结合前面的 Zero-Shot Chain of Thought，来聊聊 Chain of Thought 的关键知识。根据 <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2202.12837">Sewon Min 等人在2022 年的研究</a> 表明，思维链有以下特点：</p>
<ol>
<li>“the label space and the distribution of the input text specified by the demonstrations are both key (regardless of whether the labels are correct for individual inputs)” 标签空间和输入文本的分布都是关键因素（无论这些标签是否正确）。</li>
<li>the format you use also plays a key role in performance, even if you just use random labels, this is much better than no labels at all. 即使只是使用随机标签，使用适当的格式也能提高性能。</li>
</ol>
<p>理解起来有点难，我找一个 prompt 案例给大家解释（🆘 如果你有更好的解释，不妨反馈给我）。我给 ChatGPT 一些不一定准确的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs other">I loved the new Batman movie!  // Negative<br>This is bad // Positive<br>This is good // Negative<br>What a good show! //<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Positive<br></code></pre></td></tr></table></figure>

<p>在上述的案例里，每一行，我都写了一句话和一个情感词，并用 &#x2F;&#x2F; 分开，但我给这些句子都标记了错误的答案，比如第一句其实应该是 Positive 才对。但：</p>
<ol>
<li>即使我给内容打的标签是错误的（比如第一句话，其实应该是 Positive），对于模型来说，它仍然会知道需要输出什么东西。 换句话说，模型知道 &#x2F;&#x2F; 划线后要输出一个衡量该句子表达何种感情的词（Positive or Negative）。这就是前面论文里 #1 提到的，即使我给的标签是错误的，或者换句话说，是否基于事实，并不重要。标签和输入的文本，以及格式才是关键因素。</li>
<li>只要给了示例，即使随机的标签，对于模型生成结果来说，都是有帮助的。这就是前面论文里 #2 提到的内容。</li>
</ol>
<p>最后，需要记住，思维链仅在使用大于等于 100B 参数的模型时，才会生效。</p>
<p>BTW，如果你想要了解更多相关信息，可以看看斯坦福大学的讲义：<a target="_blank" rel="noopener" href="http://web.stanford.edu/class/cs224n/slides/cs224n-2023-lecture11-prompting-rlhf.pdf">Natural Language Processing with Deep Learning</a></p>
<h4 id="📄️-Self-Consistency"><a href="#📄️-Self-Consistency" class="headerlink" title="📄️ Self-Consistency"></a>📄️ Self-Consistency</h4><p>Self-Consistency 自洽是对 Chain of Thought 的一个补充，它能让模型生成多个思维链，然后取最多数答案的作为最终结果。</p>
<p>按照 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2203.11171.pdf">Xuezhi Wang 等人在2022 年发表的论文</a> 表明。当我们只用一个逻辑链进行优化时，模型依然有可能会算错，所以 XueZhi Wang 等人提出了一种新的方法，让模型进行多次运算，然后选取最多的答案作为最终结果：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-008.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图8</center>

<hr>
<p>就我目前使用下来，在 ChatGPT 上，其自洽性非常高，暂时没有遇到过出现多种答案的情况。查阅多份资料，我发现这个自洽性可能更多的用于评估模型的优劣，好的模型一般自洽性会比较高。</p>
<p><strong>在此案例中，考虑如下多步推理问题：</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">Consider a multi-step reasoning problem like the following:<br><br>Question: If a store has 10 apples and 8 oranges, and it sells 6 apples and 4 oranges, how many fruits are left in the store?<br><br>Instead of directly answering the question, the chain-of-thought prompting would require the language model to produce a series of short sentences that mimic a human&#x27;s reasoning process:<br><br>The store has 10 apples.<br>The store has 8 oranges.<br>6 apples are sold.<br>4 oranges are sold.<br>There are 10 - 6 = 4 apples left.<br>There are 8 - 4 = 4 oranges left.<br>The store now has 4 apples + 4 oranges = 8 fruits.<br></code></pre></td></tr></table></figure>

<p>Using self-consistency, the language model generates multiple reasoning paths:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">Reasoning Path A:<br><br>The store has 10 apples.<br>The store has 8 oranges.<br>6 apples are sold.<br>4 oranges are sold.<br>There are 10 - 6 = 4 apples left.<br>There are 8 - 4 = 4 oranges left.<br>The store now has 4 apples + 4 oranges = 8 fruits.<br>Reasoning Path B:<br><br>The store initially has 10 apples and 8 oranges.<br>It sells 6 apples, so there are 10 - 6 = 4 apples left.<br>It sells 4 oranges, so there are 8 - 4 = 4 oranges left.<br>The store now has 4 apples + 4 oranges = 8 fruits.<br></code></pre></td></tr></table></figure>

<p>翻译过来则为：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs text">问题：如果一家商店有 10 个苹果和 8 个橙子，此时店里卖出了 6 个苹果和 4 个橙子，那么店里还剩下多少水果？<br><br>思维链提示（chain-of-thought prompting）不是直接回答问题，而是要求语言模型生成一系列模仿人类推理过程的短句：<br><br>商店有 10 个苹果。<br>店里有 8 个橙子。<br>卖了 6 个苹果。<br>卖了 4 个橙子。<br>还剩下 10 - 6 = 4 个苹果。<br>剩下 8 - 4 = 4 个橙子。<br>商店现在有 4 个苹果 + 4 个橙子 = 8 个水果。<br></code></pre></td></tr></table></figure>

<p>使用 Self-consistency，语言模型生成多个推理路径：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs text">推理路径A：<br><br>商店有 10 个苹果。<br>店里有 8 个橙子。<br>卖了 6 个苹果。<br>卖了 4 个橙子。<br>还剩下 10 - 6 = 4 个苹果。<br>剩下 8 - 4 = 4 个橙子。<br>商店现在有 4 个苹果 + 4 个橙子 = 8 个水果。<br><br>推理路径 B：<br><br>商店最初有 10 个苹果和 8 个橙子。<br>商店卖了 6 个苹果，所以还剩下 10 - 6 = 4 个苹果。<br>商店卖了 4 个橙子，所以还剩下 8 - 4 = 4 个橙子。<br>商店现在有 4 个苹果 + 4 个橙子 = 8 个水果。<br></code></pre></td></tr></table></figure>

<p>Self-consistency 从生成的多个推理路径中选择最一致的答案。在这个例子中，推理路径 A 和 B 都得出相同的答案（8 个水果）。可以看到这种做法增加了模型对最终答案正确的信心。</p>
<h4 id="📄️-PAL-Models"><a href="#📄️-PAL-Models" class="headerlink" title="📄️ PAL Models"></a>📄️ PAL Models</h4><p>PAL Models，全称为 Program-Aided Language Models。需要各位注意，这个方法，真的非常高级，甚至我觉得有点 Hack，而且经过我的多次测试，我觉得以 ChatGPT 目前的能力，已经不再需要使用这个方法。</p>
<p>但我在很多 PE 的教程里都有看到这个方法，所以我这里就简单介绍一下，这个方法来自于 2022 年 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2211.10435.pdf">Luyu Gao 等人的研究</a>，根据他们的研究，在 LLM 模型中，即使使用了前面提到的 Chain of Thought 的方法，也未必能拿到答案，论文中使用的 prompt 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs other">Q: Roger has 5 tennis balls. He buys 2 more cans of<br>tennis balls. Each can has 3 tennis balls. How many<br>tennis balls does he have now?<br>A: Roger started with 5 tennis balls. 2 cans of 3 tennis<br>balls each is 6 tennis balls. 5 + 6 = 11. The answer is 11.<br><br>Q: The bakers at the Beverly Hills Bakery baked 200<br>loaves of bread on Monday morning. They sold 93 loaves<br>in the morning and 39 loaves in the afternoon. A grocery<br>store returned 6 unsold loaves. How many loaves of<br>bread did they have left?<br></code></pre></td></tr></table></figure>

<p>论文里提到，当年他们的模型的 Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs other">A: The bakers started with 200 loaves. They sold 93 in<br>the morning and 39 in the afternoon. So they sold 93 +<br>39 = 132 loaves. The grocery store returned 6 loaves. So<br>they had 200 - 132 - 6 = 62 loaves left. <br>The answer is 62.<br></code></pre></td></tr></table></figure>

<p>如果你现在将这个 prompt 输入到最新的 ChatGPT 答案已经是正确的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">A: The bakers baked 200 loaves of bread. They sold 93 + 39 = 132 loaves. After the grocery store returned 6 unsold loaves, the bakery had 200 - 132 + 6 = 74 loaves of bread left. The answer is 74.<br></code></pre></td></tr></table></figure>

<p>当年 Luyu Gao 的解决方法是在 prompt 里引入代码，并引导模型使用代码来运算和思考，最后答案就是正确的：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-009.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图9</center>

<hr>
<h4 id="📄️-OpenAI-Playground-使用方法"><a href="#📄️-OpenAI-Playground-使用方法" class="headerlink" title="📄️ OpenAI Playground 使用方法"></a>📄️ OpenAI Playground 使用方法</h4><p>如果你想要更好地了解 OpenAI 的 API，并且你常常会遇到 ChatGPT 不可用的情况。那我建议你使用 OpenAI 的 Playground。它会比较稳定。</p>
<p><strong>但需要注意，这个 Playground 会消耗你的免费 Credit。</strong></p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-010.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图10</center>

<hr>
<p>你会在界面的右侧看到以下几个参数：</p>
<ol>
<li><p><strong>Mode：</strong> 最近更新了第四种 Chat 模式，一般使用 Complete 就好，当然你可以用其他模式，其他模式能通过 GUI 的方式辅助你撰写 prompt。</p>
</li>
<li><p><strong>Model</strong>：</p>
<p>这里可以切换模型。不同的模型会擅长不同的东西，根据场景选对模型，能让你省很多成本：</p>
<ol>
<li>Ada：这是最便宜，但运算速度最快的模型。官方推荐的使用场景是解析文本，简单分类，地址更正等。</li>
<li>Babbage：这个模型能处理比 Ada 复杂的场景。但稍微贵一些，速度也比较快。适合分类，语义搜索等。</li>
<li>Curie：这个模型官方解释是「和 Davinci 一样能力很强，且更便宜的模型」。但实际上，这个模型非常擅长文字类的任务，比如写文章、语言翻译、撰写总结等。</li>
<li>Davinci：这是 GPT-3 系列模型中能力最强的模型。可以输出更高的质量、更长的回答。每次请求可处理 4000 个 token。适合有复杂意图、因果关系的场景，还有创意生成、搜索、段落总结等。</li>
</ol>
</li>
<li><p><strong>Temperature：</strong> 这个主要是控制模型生成结果的随机性。简而言之，温度越低，结果越确定，但也会越平凡或无趣。如果你想要得到一些出人意料的回答，不妨将这个参数调高一些。但如果你的场景是基于事实的场景，比如数据提取、FAQ 场景，此参数就最好调成 0 。</p>
</li>
<li><p><strong>Maximum length：</strong> 设置单次生成内容的最大长度。</p>
</li>
<li><p><strong>Stop Sequence：</strong> 该选项设置停止生成文本的特定字符串序列。如果生成文本中包含此序列，则模型将停止生成更多文本。</p>
</li>
<li><p><strong>Top P：</strong> 该选项是用于 nucleus 采样的一种技术，它可以控制模型生成文本的概率分布，从而影响模型生成文本的多样性和确定性。如果你想要准确的答案，可以将它设定为较低的值。如果你想要更多样化的回复，可以将其设得高一些。</p>
</li>
<li><p><strong>Presence Penalty：</strong> 该选项控制模型生成文本时是否避免使用特定单词或短语，它可以用于生成文本的敏感话题或特定场景。</p>
</li>
<li><p><strong>Best of：</strong> 这个选项允许你设置生成多少个文本后，从中选择最优秀的文本作为输出。默认为1，表示只生成一个文本输出。</p>
</li>
<li><p><strong>Injection start text:</strong> 这个选项可以让你在输入文本的开头添加自定义文本，从而影响模型的生成结果。</p>
</li>
<li><p><strong>Injection restart text:</strong> 这个选项可以让你在中间某个位置添加自定义文本，从而影响模型继续生成的结果。</p>
</li>
<li><p><strong>Show probabilities:</strong> 这个选项可以让你查看模型生成每个单词的概率。打开此选项后，你可以看到每个生成的文本单词后面跟着一串数字，表示模型生成该单词的概率大小。</p>
</li>
</ol>
<p>配置好参数后，你就可以在左侧输入 prompt 然后测试 prompt 了。</p>
<h4 id="📄️-搭建基于知识库内容的机器人"><a href="#📄️-搭建基于知识库内容的机器人" class="headerlink" title="📄️ 搭建基于知识库内容的机器人"></a>📄️ 搭建基于知识库内容的机器人</h4><p>如果你仅想要直接实践，可以看最后一部分实践，以及倒数第二部分限制与注意的地方。</p>
<p>这个想法，来源于我的个人需求，我连载了将近 100 期 newsletter，积累了很多内容，我希望将这些资料导入给 AI，然后 AI 能拿这些数据回答我的问题，甚至能给我一些写作建议等。</p>
<p>最早的时候，我尝试过非常笨的方法，就是在提问的时候，将我的 newsletter 文本传给 AI，它的 prompt 大概是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs other">Please summarize the following sentences to make them easier to understand.<br><br>Text: &quot;&quot;&quot;<br>My newsletter<br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>这个方法能用是能用，但目前 ChatGPT 有个非常大的限制，它限制了最大的 token 数是 4096，大约是 16000 多个字符，注意这个是请求 + 响应，实际请求总数并没那么多。换句话来说，我一次没法导入太多的内容给 ChatGPT（我的一篇 Newsletter 就有将近 5000 字），这个问题就一直卡了我很久，直到我看到了 <a target="_blank" rel="noopener" href="https://gpt-index.readthedocs.io/en/latest/">GPT Index</a> 的库，以及 <a target="_blank" rel="noopener" href="https://www.lennysnewsletter.com/p/i-built-a-lenny-chatbot-using-gpt">Lennys Newsletter</a> 的例子。</p>
<p>试了下，非常好用，而且步骤也很简单，即使你不懂编程也能轻易地按照步骤实现这个功能。</p>
<p>我稍稍优化了下例子的代码，并增加了一些原理介绍。希望大家能喜欢。</p>
<p>其实我这个需求，在传统的机器人领域已经有现成方法，比如你应该看到不少电商客服产品，就有类似的功能，你说一句话，机器人就会回复你。这种传统的机器人，通常是基于意图去回答人的问题。</p>
<p>当用户问「忘记密码怎么办？」时，它会去找最接近这个意图「密码」，每个意图里会有很多个样本问题，比如「忘记密码如何找回」「忘记密码怎么办」，然后这些样本问题都会有个答案「点击 A 按钮找回密码」，机器人会匹配最接近样本问题的意图，然后返回答案。</p>
<p>但这样有个问题，我们需要设置特别多的意图，比如「无法登录」、「忘记密码」、「登录错误」，虽然有可能都在描述一个事情，但我们需要设置三个意图、三组问题和答案。</p>
<p>虽然传统的机器人有不少限制，但这种传统方式，给了我们一些灵感。</p>
<p>我们好像可以用这个方法来解决限制 token 的问题，我们仅需要传符合某个意图的文档给 AI，然后 AI 仅用该文档来生成答案：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-011.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图11</center>

<hr>
<p>比如还是上面的那个客服机器人的例子，当用户提问「忘记密码怎么办？」时，匹配到了「登录」相关的意图，接着匹配知识库中相同或相近意图的文档，比如「登录异常处理解决方案文档」，最后我们将这份文档传给 GPT-3，它再拿这个文档内容生成答案。</p>
<p>GPTIndex 这个库简单理解就是做上图左边的那个部分，它的工作原理是这这样的：</p>
<ol>
<li>创建知识库或文档索引</li>
<li>找到最相关的索引</li>
<li>最后将对应索引的内容给 GPT-3</li>
</ol>
<p>虽然这个方法解决了 token 限制的问题，但也有不少限制：</p>
<ol>
<li>当用户提一些比较模糊的问题时，匹配有可能错误，导致 GPT-3 拿到了错误的内容，最终生成了非常离谱的答案。</li>
<li>当用户提问一些没有多少上下文的信息时，机器人有时会生成虚假信息。</li>
</ol>
<p>所以如果你想用这个技术做客服机器人，建议你：</p>
<ol>
<li>通过一些引导问题来先明确用户的意图，就是类似传统客服机器人那样，搞几个按钮，先让用户点击（比如无法登录）。</li>
<li>如果相似度太低，建议增加兜底的回答「很抱歉，我无法回答你的问题，你需要转为人工客服吗？」</li>
</ol>
<p>为了让大家更方便使用，我将代码放在了 Google Colab，你无需安装任何环境，只需要用浏览器打开这个： <a target="_blank" rel="noopener" href="https://colab.research.google.com/drive/1Fr1hxYOG5lss9vbvZlaw-11wM2U6N7cQ">代码文件</a></p>
<p>BTW 你可以将其复制保存到自己的 Google Drive。</p>
<h5 id="第一步：导入数据"><a href="#第一步：导入数据" class="headerlink" title="第一步：导入数据"></a>第一步：导入数据</h5><p>导入的方法有两种，第一种是导入在线数据。</p>
<p>导入 GitHub 数据是个相对简单的方式。如果你是第一次使用，我建议你先用这个方法试试。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">git clone https://github.com/thinkingjimmy/Jimmy-Newsletter-Corpus.git<br></code></pre></td></tr></table></figure>

<p>运行完成后，会导入我写的几份 newsletter。如果你也想像我那样导入数据，只需要修改 clone 后面的链接地址即可。</p>
<p>第二种方法是导入离线数据。点击左侧的文件夹按钮（如果你没有登录，这一步会让你登录），然后点击下图标识 2 的上传按钮，上传文件即可。如果你要传多个文件，建议你先建一个文件夹，然后将文件都上传到该文件夹内。</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-012.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图12</center>

<hr>
<h5 id="第二-amp-三步：安装依赖库"><a href="#第二-amp-三步：安装依赖库" class="headerlink" title="第二 &amp; 三步：安装依赖库"></a>第二 &amp; 三步：安装依赖库</h5><p>不过第三步里，你可以尝试改下参数，你可以改：</p>
<ol>
<li><strong>num_ouputs ：</strong>这个是设置最大的输出 token 数，越大，回答问题的时候，机器能回答的字就越多。</li>
<li><strong>Temperature：</strong> 这个主要是控制模型生成结果的随机性。简而言之，温度越低，结果越确定，但也会越平凡或无趣。如果你想要得到一些出人意料的回答，不妨将这个参数调高一些。但如果你的场景是基于事实的场景，比如数据提取、FAQ 场景，此参数就最好调成 0。</li>
</ol>
<p>其他参数不去管它就好，问题不大。</p>
<h5 id="第四步：设置-OpenAI-API-Key"><a href="#第四步：设置-OpenAI-API-Key" class="headerlink" title="第四步：设置 OpenAI API Key"></a>第四步：设置 OpenAI API Key</h5><p>这个需要你登录 OpenAI（注意是 OpenAI 不是 ChatGPT），点击右上角的头像，点击 View API Keys，或者你 <a target="_blank" rel="noopener" href="https://platform.openai.com/account/api-keys">点击这个链接 </a>也可以直接访问。然后点击「Create New Secret Key」，然后复制那个 Key 并粘贴到文档里即可。</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-013.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图13</center>

<hr>
<h5 id="第五步：构建索引"><a href="#第五步：构建索引" class="headerlink" title="第五步：构建索引"></a>第五步：构建索引</h5><p>这一步程序会将第一步导入的数据都跑一遍，并使用 OpenAI 的 embedings API。如果第一步你上传了自己的数据，只需要将 ‘ ‘ 里的 Jimmy-Newsletter-Corpus 修改为你上传的文件夹名称即可。</p>
<p><strong>注意：</strong></p>
<ul>
<li>这一步会耗费你的 OpenAI 的 Credit，1000 个 token 的价格是 $0.02，运行以下代码前需要注意你的账号里是否还有钱。</li>
<li>如果你用的 OpenAI 账号是个免费账号，你有可能会遇到频率警告，此时可以等一等再运行下方代码（另外你的导入的知识库数据太多，也会触发）。解除这个限制，最好的方式是在你的 OpenAI 账号的 Billing 页面里绑定信用卡。如何绑卡，需要各位自行搜索。</li>
</ul>
<h5 id="第六步：提问"><a href="#第六步：提问" class="headerlink" title="第六步：提问"></a>第六步：提问</h5><p>这一步你就可以试试提问了，如果你在第一步导入的是我预设的数据，你可以试试问以下问题：</p>
<ul>
<li>Issue 90 主要讲了什么什么内容？</li>
<li>推荐一本跟 Issue 90 里提到的书类似的书</li>
</ul>
<p>如果你导入的是自己的资料，也可以问以下几个类型的问题：</p>
<ul>
<li>总结</li>
<li>提问</li>
<li>信息提取</li>
</ul>
<h2 id="🗒️-技巧篇"><a href="#🗒️-技巧篇" class="headerlink" title="🗒️ 技巧篇"></a>🗒️ 技巧篇</h2><p>这里汇总了所有 prompt 技巧，方便各位查阅。如果你已经看过基础篇和高级篇内容，就仅需要从技巧 9 开始看即可。</p>
<h4 id="📄️-技巧-1：To-Do-and-Not-To-Do"><a href="#📄️-技巧-1：To-Do-and-Not-To-Do" class="headerlink" title="📄️ 技巧 1：To Do and Not To Do"></a>📄️ 技巧 1：To Do and Not To Do</h4><p>我介绍的技巧其实在各个场景都可以使用，我将其放在某个场景下解释，只是因为我觉得它更有可能在这个场景用到。你也会更容易记住这个用法。并不意味着这个技巧仅能在此场景使用。并且多技巧混用也是个不错的用法。</p>
<p>在问答场景里，为了让 AI 回答更加准确，一般会在问题里加条件。比如让 AI 推荐一部电影给你 <code>Recommend a movie to me</code> 。但这个 prompt 太空泛了，AI 无法直接回答，接着它会问你想要什么类型的电影，但这样你就需要跟 AI 聊很多轮，效率比较低。</p>
<p>所以，为了提高效率，一般会在 prompt 里看到类似这样的话（意思是不要询问我对什么感兴趣，或者问我的个人信息）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">DO NOT ASK FOR INTERESTS. DO NOT ASK FOR PERSONAL INFORMATION.<br></code></pre></td></tr></table></figure>

<p>如果你在 ChatGPT 里这样提问，或者使用 ChatGPT 最新的 API ，它就不会问你问题，而是直接推荐一部电影给你，它的 Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Certainly! If you&#x27;re in the mood for an action-packed movie, you might enjoy &quot;John Wick&quot; (2014), directed by Chad Stahelski and starring Keanu Reeves. The movie follows a retired hitman named John Wick who seeks vengeance against the people who wronged him. It&#x27;s a fast-paced and stylish film with lots of thrilling action sequences and an engaging story. If you&#x27;re looking for something that will keep you on the edge of your seat, &quot;John Wick&quot; is definitely worth a watch!<br></code></pre></td></tr></table></figure>

<p>但如果你使用的是如 Davinci-003 这样的模型，它的 Output 很可能是这样的，它还会问你的兴趣爱好：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Sure, I can recommend a movie based on your interests. What kind of movie would you like to watch? Do you prefer action, comedy, romance, or something else?<br></code></pre></td></tr></table></figure>

<p>所以 OpenAI 的 API <a target="_blank" rel="noopener" href="https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api">最佳实践文档</a> 里，提到了一个这样的最佳实践：</p>
<blockquote>
<p><strong>Instead of just saying what not to do, say what to do instead. 与其告知模型不能干什么，不妨告诉模型能干什么。</strong></p>
</blockquote>
<p>我自己的实践是，虽然现在最新的模型已经理解什么是 Not Todo ，但如果你想要的是明确的答案，加入更多限定词，告知模型能干什么，回答的效率会更高，且预期会更明确。还是电影推荐这个案例，你可以加入一个限定词：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Recommend a movie from the top global trending movies to me.<br></code></pre></td></tr></table></figure>

<p>当然并不是 Not Todo 就不能用，如果：</p>
<ul>
<li>你已经告知模型很明确的点，然后你想缩小范围，那增加一些 Not Todo 会提高不少效率。</li>
<li>你是在做一些探索，比如你不知道如何做精准限定，你只知道不要什么。那可以先加入 Not Todo ，让 AI 先发散给你答案，当探索完成后，再去优化 prompt。</li>
</ul>
<p>以下是一些场景案例，我整理了两个 Less Effective（不太有效的） 和 Better（更好的） prompt，你可以自己尝试下这些案例：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>Less Effective</th>
<th>Better</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td>推荐雅思必背英文单词</td>
<td>Please suggest me some essential words for IELTS</td>
<td>Please suggest me 10 essential words for IELTS</td>
<td>后者 prompt 会更加明确，前者会给大概 20 个单词。这个仍然有提升的空间，比如增加更多的限定词语，像字母 A 开头的词语。</td>
</tr>
<tr>
<td>推荐香港值得游玩的地方</td>
<td>Please recommend me some places to visit in Hong Kong. Do not recommend museums.</td>
<td>Please recommend me some places to visit in Hong Kong including amusement parks.</td>
<td>后者的推荐会更准确高效一些，但如果你想进行一些探索，那前者也能用。</td>
</tr>
</tbody></table>
<h4 id="📄️-技巧-2：增加示例"><a href="#📄️-技巧-2：增加示例" class="headerlink" title="📄️ 技巧 2：增加示例"></a>📄️ 技巧 2：增加示例</h4><p>直接告知 AI 什么能做，什么不能做外。在某些场景下，我们能比较简单地向 AI 描述出什么能做，什么不能做。但有些场景，有些需求很难通过文字指令传递给 AI，即使描述出来了，AI 也不能很好地理解。</p>
<p>比如给宠物起英文名，里面会夹杂着一些所谓的名字风格。此时你就可以在 prompt里增加一些例子，我们看看这个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Suggest three names for a horse that is a superhero.<br></code></pre></td></tr></table></figure>

<p>Output 是这样的，第一个感觉还行，第二个 Captain 有 hero 的感觉，但 Canter 就像是说这匹马跑得很慢，而且三个都比较一般，不够酷。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Thunder Hooves, Captain Canter, Mighty Gallop<br></code></pre></td></tr></table></figure>

<p>此时你就可以在 prompt 里增加一些案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs other">Suggest three names for an animal that is a superhero.<br><br>Animal: Cat<br>Names: Captain Sharpclaw, Agent Fluffball, The Incredible Feline<br>Animal: Dog<br>Names: Ruff the Protector, Wonder Canine, Sir Barks-a-Lot<br>Animal: Horse<br>Names:<br></code></pre></td></tr></table></figure>

<p>增加例子后，输出的结果就更酷一些，或者说是我想要的那种风格的名字。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Gallop Guardian, Equine Avenger, The Mighty Stallion<br></code></pre></td></tr></table></figure>

<p>以下是一些场景案例，我整理了两个 Less Effective（不太有效的） 和 Better（更好的） prompt，你可以自己尝试下这些案例：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>Less Effective</th>
<th>Better</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td>起英文名</td>
<td>Suggest three English names for a boy.</td>
<td>Suggest three English names for a boy. Here are some examples: Jimmy、Jason、James</td>
<td>可以在下方运行这个案例，在不给示例的情况下 AI 会给你什么答案。</td>
</tr>
<tr>
<td>将电影名称转为 emoji</td>
<td>Convert Star Wars into emoji.</td>
<td>Convert movie titles into emoji. Back to the Future: 👨👴🚗🕒 Batman: 🤵🦇 Transformers: 🚗🤖 Star Wars:</td>
<td>可以在下方运行这个案例，在不给示例的情况下 AI 会给你什么答案。</td>
</tr>
</tbody></table>
<h4 id="📄️-技巧-3：使用引导词，引导模型输出特定内容"><a href="#📄️-技巧-3：使用引导词，引导模型输出特定内容" class="headerlink" title="📄️ 技巧 3：使用引导词，引导模型输出特定内容"></a>📄️ 技巧 3：使用引导词，引导模型输出特定内容</h4><p>在代码生成场景里，有一个小技巧，上面提到的案例，其 prompt 还可以继续优化，在 prompt 最后，增加一个代码的引导，告知 AI 我已经将条件描述完了，你可以写代码了。</p>
<p>Better：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs other">Create a MySQL query for all students in the Computer Science Department:<br>Table departments, columns = [DepartmentId, DepartmentName]<br>Table students, columns = [DepartmentId, StudentId, StudentName]<br>SELECT<br></code></pre></td></tr></table></figure>

<p>在 prompt 的最后增加 SELECT 可以很好地提示 AI 可以写 SQL 代码了。</p>
<p>同样的道理，如果你想让 AI 写 Python 代码，那 import 会是比较好的提示。但需要注意，这个只是告知 AI 可以写代码了，并不能告知 AI 写何种代码，你仍然需要在 prompt 里增加提示，告知 AI 要生成何种语言的代码。</p>
<p>在吴恩达的 <a target="_blank" rel="noopener" href="https://www.aizj.cc/go.php?https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，也提到这个技巧，只是在课程中，引导词并不是放在最后，而是在 prompt 里直接说明，让 AI 生成一个 JSON 格式的内容。课程中的例子是这样的（注意这个是 python 代码）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">Generate a list of three made-up book titles along \</span><br><span class="hljs-string">with their authors and genres.</span><br><span class="hljs-string">Provide them in JSON format with the following keys:</span><br><span class="hljs-string">book_id, title, author, genre.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>我简单解释下，其关键是在 prompt 里跟 AI 说明，需要 AI 按照 JSON 格式输出内容。</p>
<h4 id="📄️-技巧-4：增加-Role（角色）或人物"><a href="#📄️-技巧-4：增加-Role（角色）或人物" class="headerlink" title="📄️ 技巧 4：增加 Role（角色）或人物"></a>📄️ 技巧 4：增加 Role（角色）或人物</h4><p>前面提到的改写例子，我在 prompt 里加了 Role 让其更易于阅读，这个优化方法是 OK 的。也很常用，比如你想将你写的 Email 改得更商务，则只需要加 business 相关的词即可。</p>
<p>我再介绍一个更有效的技巧，就是在 prompt 里增加一些 role（角色）相关的内容，让 AI 生成的内容更符合你的需求。</p>
<p>比如还是上面那个 rewrite 的例子，我在例子前加入这样的一段话，我让 AI 假设自己是一个小学老师，并且很擅长将复杂的内容转变成 7、8岁小朋友也能听懂的话，然后再改写这段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">You are a primary school teacher who can explain complex content to a level that a 7 or 8 year old child can understand. Please rewrite the following sentences to make them easier to understand:<br></code></pre></td></tr></table></figure>

<p>Output 就变成了下面这样。不管是用词，还是语法，看起来都更容易懂了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">OpenAI is a place where people work on making computers really smart. It&#x27;s like a lab where they do research to make computers do amazing things! They want the computers to be really friendly and helpful to people. They use one of the most powerful computers in the world to do this research. A bunch of really rich and smart people gave money to start this lab. One of them is Elon Musk, but he left in 2018. Another really big company, Microsoft, gave them a lot of money too.<br></code></pre></td></tr></table></figure>

<p>另外除了增加角色外，还能让 AI 模拟某个人，比如让 AI 以 David Foster Wallace 的风格改写上述那段话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Imagine you are the famous writer David Foster Wallace, please rewrite this sentences.<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs other">As David Foster Wallace, I might rewrite these sentences to sound more like this:<br><br>OpenAI is a lab that studies something called artificial intelligence, which is like when computers can do things that normally only humans can do. They have a big computer that&#x27;s one of the most powerful in the world, and they&#x27;re trying to make sure the AI they create is friendly and helpful. The lab was started in 2015 in a city called San Francisco, and a bunch of important people gave them a lot of money to do their research. One of those people was Elon Musk, who stopped working there but still gives them money, and Microsoft also gave them a lot of money recently.<br></code></pre></td></tr></table></figure>

<p>关于这个技巧的应用，以及如何更好地使用 AI 提升写作能力，建议各位阅读 Nat Eliason 的 <a target="_blank" rel="noopener" href="https://blog.nateliason.com/p/chatgpt-writing-coach">Using ChatGPT as a Writing Coach</a>，他使用 ChatGPT 辅助其写作，就用到了上述的技巧。</p>
<h4 id="📄️-技巧-5：使用特殊符号指令和需要处理的文本分开"><a href="#📄️-技巧-5：使用特殊符号指令和需要处理的文本分开" class="headerlink" title="📄️ 技巧 5：使用特殊符号指令和需要处理的文本分开"></a>📄️ 技巧 5：使用特殊符号指令和需要处理的文本分开</h4><p>不管是信息总结，还是信息提取，你一定会输入大段文字，甚至多段文字，此时有个小技巧。</p>
<p>可以用“”“将指令和文本分开。根据我的测试，如果你的文本有多段，增加”“”会提升 AI 反馈的准确性（这个技巧来自于 OpenAI 的 API <a target="_blank" rel="noopener" href="https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api">最佳实践文档</a>）</p>
<p>像我们之前写的 prompt 就属于 Less effective prompt。为什么呢？据我的测试，主要还是 AI 不知道什么是指令，什么是待处理的内容，用符号分隔开来会更利于 AI 区分。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs other">Please summarize the following sentences to make them easier to understand.<br>OpenAI is an American artificial intelligence (AI) research laboratory consisting of the non-profit OpenAI Incorporated (OpenAI Inc.) and its for-profit subsidiary corporation OpenAI Limited Partnership (OpenAI LP). OpenAI conducts AI research with the declared intention of promoting and developing a friendly AI. OpenAI systems run on the fifth most powerful supercomputer in the world.[5][6][7] The organization was founded in San Francisco in 2015 by Sam Altman, Reid Hoffman, Jessica Livingston, Elon Musk, Ilya Sutskever, Peter Thiel and others,[8][1][9] who collectively pledged US$1 billion. Musk resigned from the board in 2018 but remained a donor. Microsoft provided OpenAI LP with a $1 billion investment in 2019 and a second multi-year investment in January 2023, reported to be $10 billion.[10]<br></code></pre></td></tr></table></figure>

<p>Better prompt:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs other">Please summarize the following sentences to make them easier to understand.<br><br>Text: &quot;&quot;&quot;<br>OpenAI is an American artificial intelligence (AI) research laboratory consisting of the non-profit OpenAI Incorporated (OpenAI Inc.) and its for-profit subsidiary corporation OpenAI Limited Partnership (OpenAI LP). OpenAI conducts AI research with the declared intention of promoting and developing a friendly AI. OpenAI systems run on the fifth most powerful supercomputer in the world.[5][6][7] The organization was founded in San Francisco in 2015 by Sam Altman, Reid Hoffman, Jessica Livingston, Elon Musk, Ilya Sutskever, Peter Thiel and others,[8][1][9] who collectively pledged US$1 billion. Musk resigned from the board in 2018 but remained a donor. Microsoft provided OpenAI LP with a $1 billion investment in 2019 and a second multi-year investment in January 2023, reported to be $10 billion.[10]<br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>另外，在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，还提到，你可以使用其他特殊符号来分割文本和 prompt，比如<code>&lt;&gt;</code>，<code>&lt;tag&gt;&lt;/tag&gt;</code> 等，课程中的案例是这样的（注意这个是 python 代码，需要关注的是 prompt 里的 text）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python">text = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">You should express what you want a model to do by \</span><br><span class="hljs-string">providing instructions that are as clear and \</span><br><span class="hljs-string">specific as you can possibly make them. \</span><br><span class="hljs-string">This will guide the model towards the desired output, \</span><br><span class="hljs-string">and reduce the chances of receiving irrelevant \</span><br><span class="hljs-string">or incorrect responses. Don&#x27;t confuse writing a \</span><br><span class="hljs-string">clear prompt with writing a short prompt. \</span><br><span class="hljs-string">In many cases, longer prompts provide more clarity \</span><br><span class="hljs-string">and context for the model, which can lead to \</span><br><span class="hljs-string">more detailed and relevant outputs.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br>prompt = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">Summarize the text delimited by triple backticks \</span><br><span class="hljs-string">into a single sentence.</span><br><span class="hljs-string">`<span class="hljs-subst">&#123;text&#125;</span>`</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>如果你是在开发一款允许用户输入内容，并对内容进行总结的 AI 产品，那你就可以使用到这个技巧。</p>
<h4 id="📄️-技巧-6：通过格式词阐述需要输出的格式"><a href="#📄️-技巧-6：通过格式词阐述需要输出的格式" class="headerlink" title="📄️ 技巧 6：通过格式词阐述需要输出的格式"></a>📄️ 技巧 6：通过格式词阐述需要输出的格式</h4><p>这个技巧是技巧 2 的变种，比较常用于生成文本场景。其实在场景 7 中，你也可以用到这个技巧。</p>
<p>假设你想让 AI 总结一篇非常非常长的文章，并且按照特定格式给你总结，那你可以在文章前面明确输出的格式（为了不占用太多显示空间，我省略了正文内容，你可以在 OpenAI 的 Playground 看到 <a target="_blank" rel="noopener" href="https://platform.openai.com/playground/p/3U5Wx7RTIdNNC9Fg8fc44omi">完整案例</a>）。它的意思其实是让 ChatGPT 按 Topic 总结，每个 Topic 里按照无序列表（就是里面那个 -）将每个 Topic 的主要观点罗列出来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs other">Summarize the main points of the following speech<br>Use the following format:<br>Topic 1: &lt;topic_name_1&gt;<br>- &lt;point_1&gt;<br>..<br>Topic 2: &lt;topic_name_2&gt;<br>- &lt;point_1&gt;<br>..<br>Topic 10: ..<br><br>Text: &quot;&quot;&quot;<br>Thank you so much, Fred, for that lovely introduction. And thanks to the Atlantic Council for hosting me today.<br><br>The course of the global economy over the past two years has been shaped by COVID-19 and our efforts to fight the pandemic. It’s now evident, though, that the war between Russia and Ukraine has redrawn the contours of the world economic outlook. Vladimir Putin’s unprovoked attack on Ukraine and its people is taking a devastating human toll, with lives tragically lost, families internally displaced or becoming refugees, and communities and cities destroyed.<br>...<br><br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">Topic 1: The war in Ukraine<br>- The war is taking a human toll with lives lost, families displaced, and communities destroyed<br>- The Biden administration is committed to holding Russia accountable<br>- The war has violated international law and is a challenge to the international order<br><br>Topic 2: The global economy<br>- The war is having negative impacts on the global economy, including higher commodity prices and inflation<br>- The IMF and World Bank will be focused on helping developing countries weather the impacts of the war<br>- The ultimate outcome for the global economy depends on the path of the war<br></code></pre></td></tr></table></figure>

<p>关于这个场景和技巧，我想再解释一下为什么潜力很大。</p>
<p>根据我使用各种 Summary 或者信息提取的产品，我发现 AI 并不知道什么是重点，所以在总结的过程中，会丢失很多内容。如何引导 AI 进行总结，就变得非常重要，且具有一定的可玩性。</p>
<hr>
<p>感谢 <a target="_blank" rel="noopener" href="https://github.com/AlexZhangji">AlexZhangji</a> 的分享，TA 提到一个使用此技巧的场景：</p>
<p>使用此技巧可以使输出更结构化。比如针对一篇文章进行问答，你不仅想要得到一个答案，也希望 ChatGPT 的答案符合特定的格式，方便你下一步进行自动化。</p>
<p>比如问 “这里的债券 duration 是多少？”. 正常 GPT 模型的答案可能是 “债券 duration 是 4 年” 或 “duration 4 年”。 ChatGPT 的回答不稳定，且不方便继续处理。</p>
<p>解法： 我们可以通过这个技巧，让模型理解我们预期的格式。并在此基础上，为了方便自动化，让模型输出特定的结构化答案 (比如 JSON&#x2F;Markdown 等)。 也可以方便集成更多的额外要求，比如增加一个”confidence level”, 并通过 prompt 的形式指定这些数值的格式。</p>
<p>比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs other">&#123;context&#125;<br>Question: What is bond duration mentioned here.<br>Answer template (Valid JSON format):<br>&#123;&#123;<br>&quot;duration&quot;: $duration_numeric_value_in_year,<br>&quot;confidence_level&quot;: $answer_confidence_level_high_modrate_or_low,<br>&#125;&#125;<br>Answer:<br></code></pre></td></tr></table></figure>

<p>在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，有提到一个这个技巧的高级用法，在让 AI 按照特定格式输出内容的同时，还让 AI 根据内容是否满足特定条件，来判断应该输出什么结果，下面课程中的案例的 prompt（注意这个是 python 代码，有一些转义字符，可以不用管）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">You will be provided <span class="hljs-keyword">with</span> text delimited by triple quotes.<br>If it contains a sequence of instructions, \<br>re-write those instructions <span class="hljs-keyword">in</span> the following <span class="hljs-built_in">format</span>:<br><br>Step <span class="hljs-number">1</span> - ...<br>Step <span class="hljs-number">2</span> - …<br>…<br>Step N - …<br><br>If the text does <span class="hljs-keyword">not</span> contain a sequence of instructions, \<br>then simply write \<span class="hljs-string">&quot;No steps provided.\&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">\&quot;\&quot;\&quot;&#123;text&#125;\&quot;\&quot;\&quot;</span><br></code></pre></td></tr></table></figure>

<p>简单解释下，这个 prompt 分成两步：</p>
<p>让 AI 将输入的 text 转为步骤（就是 prompt 里的 Step 1、2）</p>
<p>然后还增加了一个判断，如果输入的 text 里没有 step 的内容，那么就输出 No Step</p>
<p>假如输入的 text 是一个泡茶的步骤介绍：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">Making a cup of tea is easy! First, you need to get some \<br>water boiling. While that&#x27;s happening, \<br>grab a cup and put a tea bag in it. Once the water is \<br>hot enough, just pour it over the tea bag. \<br>Let it sit for a bit so the tea can steep. After a \<br>few minutes, take out the tea bag. If you \<br>like, you can add some sugar or milk to taste. \<br>And that&#x27;s it! You&#x27;ve got yourself a delicious \<br>cup of tea to enjoy.<br></code></pre></td></tr></table></figure>

<p>那么 AI 输出的内容是这样的（因为内容中包含了步骤式的内容）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs other">Step 1 - Get some water boiling.<br>Step 2 - Grab a cup and put a tea bag in it.<br>Step 3 - Once the water is hot enough, pour it over the tea bag.<br>Step 4 - Let it sit for a bit so the tea can steep.<br>Step 5 - After a few minutes, take out the tea bag.<br>Step 6 - Add some sugar or milk to taste.<br>Step 7 - Enjoy your delicious cup of tea!<br></code></pre></td></tr></table></figure>

<p>但如果我们输入的是这样的 text：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs other">The sun is shining brightly today, and the birds are \<br>singing. It&#x27;s a beautiful day to go for a \<br>walk in the park. The flowers are blooming, and the \<br>trees are swaying gently in the breeze. People \<br>are out and about, enjoying the lovely weather. \<br>Some are having picnics, while others are playing \<br>games or simply relaxing on the grass. It&#x27;s a \<br>perfect day to spend time outdoors and appreciate the \<br>beauty of nature.<br></code></pre></td></tr></table></figure>

<p>从内容上看，这段话，没有任何步骤式的内容，所以 AI 的输出是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">No steps provided.<br></code></pre></td></tr></table></figure>

<h4 id="📄️-技巧-7：Zero-Shot-Chain-of-Thought"><a href="#📄️-技巧-7：Zero-Shot-Chain-of-Thought" class="headerlink" title="📄️ 技巧 7：Zero-Shot Chain of Thought"></a>📄️ 技巧 7：Zero-Shot Chain of Thought</h4><p>基于上述的第三点缺点，研究人员就找到了一个叫 Chain of Thought 的技巧。</p>
<p>这个技巧使用起来非常简单，只需要在问题的结尾里放一句 <code>Let‘s think step by step</code> （让我们一步步地思考），模型输出的答案会更加准确。</p>
<p>这个技巧来自于 Kojima 等人 2022 年的论文 <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2205.11916">Large Language Models are Zero-Shot Reasoners</a>。在论文里提到，当我们向模型提一个逻辑推理问题时，模型返回了一个错误的答案，但如果我们在问题最后加入 <code>Let‘s think step by step</code> 这句话之后，模型就生成了正确的答案：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-005.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图5</center>

<hr>
<p>论文里有讲到原因，感兴趣的朋友可以去看看，我简单解释下为什么（🆘 如果你有更好的解释，不妨反馈给我）：</p>
<ol>
<li>首先各位要清楚像 ChatGPT 这类产品，它是一个统计语言模型，本质上是基于过去看到过的所有数据，用统计学意义上的预测结果进行下一步的输出（这也就是为什么你在使用 ChatGPT 的时候，它的答案是一个字一个字地吐出来，而不是直接给你的原因，因为答案是一个字一个字算出来的）。</li>
<li>当它拿到的数据里有逻辑，它就会通过统计学的方法将这些逻辑找出来，并将这些逻辑呈现给你，让你感觉到它的回答很有逻辑。</li>
<li>在计算的过程中，模型会进行很多假设运算（不过暂时不知道它是怎么算的）。比如解决某个问题是从 A 到 B 再到 C，中间有很多假设。</li>
<li>它第一次算出来的答案错误的原因，只是因为它在中间跳过了一些步骤（B）。而让模型一步步地思考，则有助于其按照完整的逻辑链（A &gt; B &gt; C）去运算，而不会跳过某些假设，最后算出正确的答案。</li>
</ol>
<p>按照论文里的解释，零样本思维链涉及两个补全结果，左侧气泡表示基于提示输出的第一次的结果，右侧气泡表示其收到了第一次结果后，将最开始的提示一起拿去运算，最后得出了正确的答案：</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-006.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图6</center>

<hr>
<p>这个技巧，除了用于解决复杂问题外，还适合生成一些连贯主题的内容，比如写长篇文章、电影剧本等。</p>
<p>但需要注意其缺点，连贯不代表，它就一定不会算错，如果其中某一步骤算错了，错误会因为逻辑链，逐步将错误积累，导致生成的文本可能出现与预期不符的内容。</p>
<p>根据 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2201.11903.pdf">Wei 等人在2022 年的论文</a> 表明，它仅在大于等于 100B 参数的模型中使用才会有效。如果你使用的是小样本模型，这个方法不会生效。</p>
<hr>
<p>另外，根据 <a target="_blank" rel="noopener" href="https://sites.google.com/view/automatic-prompt-engineer">Yongchao Zhou 等人的最新论文</a>，更好的 prompt 是：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">Let&#x27;s work this out in a step by step way to be sure we have the right answer.<br></code></pre></td></tr></table></figure>

<p>在吴恩达的 <a target="_blank" rel="noopener" href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/">ChatGPT Prompt Engineering</a> 中，有提到一个这个技巧的另一种用法，不仅仅只是让 AI 按步骤行事，还会告知 AI 每一步要做什么。比如这个案例（注意这个是 python 代码）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs text">prompt_2 = f&quot;&quot;&quot;<br>Your task is to perform the following actions:<br>1 - Summarize the following text delimited by<br>  &lt;&gt; with 1 sentence.<br>2 - Translate the summary into French.<br>3 - List each name in the French summary.<br>4 - Output a json object that contains the<br>  following keys: french_summary, num_names.<br><br>Use the following format:<br>Text: &lt;text to summarize&gt;<br>Summary: &lt;summary&gt;<br>Translation: &lt;summary translation&gt;<br>Names: &lt;list of names in Italian summary&gt;<br>Output JSON: &lt;json with summary and num_names&gt;<br><br>Text: &lt;&#123;text&#125;&gt;<br>&quot;&quot;&quot;<br></code></pre></td></tr></table></figure>

<p>简单解释下这个代码：</p>
<ol>
<li>开头是让 AI 按照 1 ～ 4 步运行</li>
<li>然后再让 AI 根据特定格式输出内容</li>
</ol>
<p>最后 AI 的输出是这样的：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">Summary: Jack and Jill go on a quest to fetch water, but misfortune strikes and they tumble down the hill, returning home slightly battered but with their adventurous spirits undimmed.<br>Translation: Jack et Jill partent en quête d&#x27;eau, mais la malchance frappe et ils dégringolent la colline, rentrant chez eux légèrement meurtris mais avec leurs esprits aventureux intacts.<br>Names: Jack, Jill<br>Output JSON: &#123;&quot;french_summary&quot;: &quot;Jack et Jill partent en quête d&#x27;eau, mais la malchance frappe et ils dégringolent la colline, rentrant chez eux légèrement meurtris mais avec leurs esprits aventureux intacts.&quot;, &quot;num_names&quot;: 2&#125;<br></code></pre></td></tr></table></figure>

<p>上述的案例只是将任务拆解，能让 AI 生成的结果更加符合要求，这个方法同样能提升 AI 的回答准确性，比如这个案例：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs text">Determine if the student&#x27;s solution is correct or not.<br><br>Question:<br>I&#x27;m building a solar power installation and I need help working out the financials.<br><br>Land costs $100 / square foot<br><br>I can buy solar panels for $250 / square foot<br><br>I negotiated a contract for maintenance that will cost <br>me a flat $100k per year, and an additional $10 / square foot<br>What is the total cost for the first year of operations<br>as a function of the number of square feet.<br><br>Student&#x27;s Solution:<br>Let x be the size of the installation in square feet.<br>Costs:<br><br>Land cost: 100x<br><br>Solar panel cost: 250x<br><br>Maintenance cost: 100,000 + 100x<br>Total cost: 100x + 250x + 100,000 + 100x = 450x + 100,000<br></code></pre></td></tr></table></figure>

<p>AI 的回答是「The student’s solution is correct」。但其实学生的答案是错误的，应该 360x + 100,000，我们将 prompt 调整成这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python">prompt = <span class="hljs-string">f&quot;&quot;&quot;</span><br><span class="hljs-string">Your task is to determine if the student&#x27;s solution </span><br><span class="hljs-string">is correct or not.</span><br><span class="hljs-string">To solve the problem do the following:</span><br><span class="hljs-string">- First, work out your own solution to the problem.</span><br><span class="hljs-string">- Then compare your solution to the student&#x27;s solution </span><br><span class="hljs-string">and evaluate if the student&#x27;s solution is correct or not.</span><br><span class="hljs-string">Don&#x27;t decide if the student&#x27;s solution is correct until</span><br><span class="hljs-string">you have done the problem yourself.</span><br><span class="hljs-string">Use the following format:</span><br><span class="hljs-string">Question:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">question here</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Student&#x27;s solution:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">student&#x27;s solution here</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Actual solution:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">steps to work out the solution and your solution here</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Is the student&#x27;s solution the same as actual solution </span><br><span class="hljs-string">just calculated:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">yes or no</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Student grade:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">correct or incorrect</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Question:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">I&#x27;m building a solar power installation and I need help </span><br><span class="hljs-string">working out the financials.</span><br><span class="hljs-string">- Land costs $100 / square foot</span><br><span class="hljs-string">- I can buy solar panels for $250 / square foot</span><br><span class="hljs-string">- I negotiated a contract for maintenance that will cost </span><br><span class="hljs-string">  me a flat $100k per year, and an additional $10 / square </span><br><span class="hljs-string">  foot</span><br><span class="hljs-string">  What is the total cost for the first year of operations </span><br><span class="hljs-string">  as a function of the number of square feet.</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Student&#x27;s solution:</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Let x be the size of the installation in square feet.</span><br><span class="hljs-string">Costs:</span><br><span class="hljs-string">1. Land cost: 100x</span><br><span class="hljs-string">2. Solar panel cost: 250x</span><br><span class="hljs-string">3. Maintenance cost: 100,000 + 100x</span><br><span class="hljs-string">   Total cost: 100x + 250x + 100,000 + 100x = 450x + 100,000</span><br><span class="hljs-string">###</span><br><span class="hljs-string">Actual solution:</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>

<p>本质上，也是将任务分拆成多步，这次 AI 输出的结果是这样的（结果就是正确的了）：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">Let x be the size of the installation in square feet.<br><br>Costs:<br><br>1. Land cost: 100x<br>2. Solar panel cost: 250x<br>3. Maintenance cost: 100,000 + 10x<br><br>Total cost: 100x + 250x + 100,000 + 10x = 360x + 100,000<br><br>Is the student&#x27;s solution the same as actual solution just calculated:<br>No<br><br>Student grade:<br>Incorrect<br></code></pre></td></tr></table></figure>

<h4 id="📄️-技巧-8：Few-Shot-Chain-of-Thought"><a href="#📄️-技巧-8：Few-Shot-Chain-of-Thought" class="headerlink" title="📄️ 技巧 8：Few-Shot Chain of Thought"></a>📄️ 技巧 8：Few-Shot Chain of Thought</h4><p>要解决这个缺陷，就要使用到新的技巧，Few-Shot Chain of Thought。</p>
<p>根据 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2201.11903.pdf">Wei 他们团队在2022 年的研究 </a>表明：</p>
<blockquote>
<p>通过向大语言模型展示一些少量的样例，并在样例中解释推理过程，大语言模型在回答提示时也会显示推理过程。这种推理的解释往往会引导出更准确的结果。</p>
</blockquote>
<p>下面是论文里的案例，使用方法很简单，在技巧2 的基础上，再将逻辑过程告知给模型即可。从下面这个案例里，你可以看到加入解释后，输出的结果就正确了。</p>
<p>​	<img src="https://img.hello-yzg.cn/ChatGPT+%23+Hello+ChatGPT-007.png" srcset="/img/loading.gif" lazyload style="zoom: 150%;" /></p>
<center style="color:#C0C0C0">图7</center>

<hr>
<p>那本章开头提的例子就应该是这样的（注：本例子同样来自 Wei 团队论文）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs other">The odd numbers in this group add up to an even number: 4, 8, 9, 15, 12, 2, 1.<br>A: Adding all the odd numbers (9, 15, 1) gives 25. The answer is False.<br><br>The odd numbers in this group add up to an even number: 17,  10, 19, 4, 8, 12, 24.<br>A: Adding all the odd numbers (17, 19) gives 36. The answer is True.<br><br>The odd numbers in this group add up to an even number: 16,  11, 14, 4, 8, 13, 24.<br>A: Adding all the odd numbers (11, 13) gives 24. The answer is True.<br><br>The odd numbers in this group add up to an even number: 17,  9, 10, 12, 13, 4, 2.<br>A: Adding all the odd numbers (17, 9, 13) gives 39. The answer is False.<br><br>The odd numbers in this group add up to an even number: 15, 32, 5, 13, 82, 7, 1. <br>A:<br></code></pre></td></tr></table></figure>

<p>聊完技巧，我们再结合前面的 Zero-Shot Chain of Thought，来聊聊 Chain of Thought 的关键知识。根据 <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2202.12837">Sewon Min 等人在2022 年的研究</a> 表明，思维链有以下特点：</p>
<ol>
<li>“the label space and the distribution of the input text specified by the demonstrations are both key (regardless of whether the labels are correct for individual inputs)” 标签空间和输入文本的分布都是关键因素（无论这些标签是否正确）。</li>
<li>the format you use also plays a key role in performance, even if you just use random labels, this is much better than no labels at all. 即使只是使用随机标签，使用适当的格式也能提高性能。</li>
</ol>
<p>理解起来有点难，我找一个 prompt 案例给大家解释（🆘 如果你有更好的解释，不妨反馈给我）。我给 ChatGPT 一些不一定准确的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs other">I loved the new Batman movie!  // Negative<br>This is bad // Positive<br>This is good // Negative<br>What a good show! //<br></code></pre></td></tr></table></figure>

<p>Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">Positive<br></code></pre></td></tr></table></figure>

<p>在上述的案例里，每一行，我都写了一句话和一个情感词，并用 &#x2F;&#x2F; 分开，但我给这些句子都标记了错误的答案，比如第一句其实应该是 Positive 才对。但：</p>
<ol>
<li>即使我给内容打的标签是错误的（比如第一句话，其实应该是 Positive），对于模型来说，它仍然会知道需要输出什么东西。 换句话说，模型知道 &#x2F;&#x2F; 划线后要输出一个衡量该句子表达何种感情的词（Positive or Negative）。这就是前面论文里 #1 提到的，即使我给的标签是错误的，或者换句话说，是否基于事实，并不重要。标签和输入的文本，以及格式才是关键因素。</li>
<li>只要给了示例，即使随机的标签，对于模型生成结果来说，都是有帮助的。这就是前面论文里 #2 提到的内容。</li>
</ol>
<p>最后，需要记住，思维链仅在使用大于等于 100B 参数的模型时，才会生效。</p>
<p>BTW，如果你想要了解更多相关信息，可以看看斯坦福大学的讲义：<a target="_blank" rel="noopener" href="http://web.stanford.edu/class/cs224n/slides/cs224n-2023-lecture11-prompting-rlhf.pdf">Natural Language Processing with Deep Learning</a></p>
<h4 id="📄️-技巧9：其他"><a href="#📄️-技巧9：其他" class="headerlink" title="📄️ 技巧9：其他"></a>📄️ 技巧9：其他</h4><p>一些小的技巧，我会统一放在这里。</p>
<ol>
<li>在示例里加入特定符号，让模型知道如何处理特殊情况</li>
</ol>
<p>这个解释起来有点复杂，以下是 OpenAI 的官方 prompt，在一些奇怪的问题上比如 <code>What is Devz9</code> 的回答，你可以用 ？ 代替答案，让模型知道当遇到超出回答范围时，需要如何处理（注意：此方法在 playground 上有效，但在 ChatGPT 上无效）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs other">Q: Who is Batman?<br>A: Batman is a fictional comic book character.<br><br>Q: What is torsalplexity?<br>A: ?<br><br>Q: What is Devz9?<br>A: ?<br><br>Q: Who is George Lucas?<br>A: George Lucas is American film director and producer famous for creating Star Wars.<br><br>Q: What is the capital of California?<br>A: Sacramento.<br><br>Q: What is Kozar-09?<br>A: <br></code></pre></td></tr></table></figure>

<p>它的 Output 是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs other">?<br></code></pre></td></tr></table></figure>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/ChatGPT/" class="category-chain-item">ChatGPT</a>
  
  
    <span>></span>
    
  <a href="/categories/ChatGPT/%E5%9F%BA%E7%A1%80%EF%BC%9A%E6%A6%82%E5%BF%B5/" class="category-chain-item">基础：概念</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Large-Model/">#Large Model</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Hello ChatGPT ！</div>
      <div>https://learn.hello-yzg.cn/2023/eeb5aeb4a7a5/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Grit</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年12月13日</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>更新于</div>
          <div>2023年12月14日</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/2c301bfae337/" title="盛最多水的容器">
                        <span class="hidden-mobile">盛最多水的容器</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.18/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"TUDXEwA6NWSDxnyFtP48ddzC-9Nh9j0Va","appKey":"AMi5NnqgnaBMn3wb7N5DxsWS","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":["nick"],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":true,"serverURLs":"https://tudxewa6.lc-cn-e1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":true},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <span style="font-size: 12px;"> © 2023 - 2023 Grit-yanzhengang | Powered by  <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>&nbsp;&amp;&nbsp; <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> </span> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
